[
  {
    "objectID": "eda/eda.html",
    "href": "eda/eda.html",
    "title": "Exploratory Data Exploration",
    "section": "",
    "text": "Now that the monthly ridership data from 2018-2023 is cleaned for both WMATA and BART datasets, exploratory data analysis (EDA) can be performed. An important aspect of this data to reiterate is that WMATA’s dataset contains average daily public transit entries for each month, while BART’s dataset simply has a single sample from one day of public transit entries from the 18th day of each month. Therefore, comparison of these trends rely on the assumption that the samples for BART are representative of the month’s average. Nonetheless, viewing these trends alongside each other can provide great insight into the differentiation between cities of the recent phenomena regarding public transit usage.\nTo accomplish this, we will first combine these datasets into a single dataframe and obtain summary statistics. In this case, along with many below, summary statistics are obtained using the pandas software tool in Python, which allows for data manipulation and analysis.\n\n\nCode\n# Import seaborn\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nfrom datetime import datetime as dt\nimport pandas as pd\n\n# Apply the default theme\nsns.set_theme(style=\"whitegrid\", palette=\"pastel\")\n\n# Load an example dataset\nbart_monthly = pd.read_csv('../data/cleaned_data/bart_monthly_ridership.csv')\nwmata_monthly = pd.read_csv('../data/cleaned_data/wmata_monthly_ridership.csv')\ncombined_ridership = bart_monthly.merge(wmata_monthly, on='date')\ncombined_ridership = combined_ridership.drop(columns=['Unnamed: 0_x','Unnamed: 0_y'])\ncombined_ridership = combined_ridership.rename(columns={'daily_entries': 'bart_ridership', 'avg_daily_entries': 'wmata_ridership'})\ncombined_ridership[['bart_ridership','wmata_ridership']].describe()\n#combined_ridership.head()\n\n\nIntel MKL WARNING: Support of Intel(R) Streaming SIMD Extensions 4.2 (Intel(R) SSE4.2) enabled only processors has been deprecated. Intel oneAPI Math Kernel Library 2025.0 will require Intel(R) Advanced Vector Extensions (Intel(R) AVX) instructions.\nIntel MKL WARNING: Support of Intel(R) Streaming SIMD Extensions 4.2 (Intel(R) SSE4.2) enabled only processors has been deprecated. Intel oneAPI Math Kernel Library 2025.0 will require Intel(R) Advanced Vector Extensions (Intel(R) AVX) instructions.\n\n\n\n\n\n\n\n\n\nbart_ridership\nwmata_ridership\n\n\n\n\ncount\n69.000000\n69.000000\n\n\nmean\n218181.318841\n290734.623188\n\n\nstd\n153902.308664\n176660.259728\n\n\nmin\n25141.000000\n30017.000000\n\n\n25%\n92401.000000\n140034.000000\n\n\n50%\n149296.000000\n237880.000000\n\n\n75%\n407339.000000\n472304.000000\n\n\nmax\n432971.000000\n568265.000000\n\n\n\n\n\n\n\nThere is not much to glean from these statistics prior to visualization, as the numbers can be difficult to comprehend without context. However, we can see that WMATA ridership seems to exceed that of BART consistently. More information can be acquired by plotting the time series of ridership.\n\n\nCode\nplt.plot(combined_ridership['date'], combined_ridership['bart_ridership'], label ='BART')\nplt.plot(combined_ridership['date'], combined_ridership['wmata_ridership'], label ='WMATA')\nplt.xlabel(\"Date\")\nplt.ylabel(\"Daily Ridership\")\nplt.tick_params(bottom=False)\nplt.legend()\nplt.gcf().autofmt_xdate()\nplt.show()\n\n\n\n\n\nThis graph, and many others below, use the matplotlib software tool in Python, which offers a suite of graphical visualizations to assist us with data understanding.\nBy looking at this time series graph, there are a few key observations to acknowledge. The first is that both systems appeared to be somewhat equally affected by the significant drop in March of 2020, as we’d expect. Additionally, it is clear that prior to this drop, WMATA consistently had more riders each month, a difference that all but disappeared when the pandemic hit. A crucial development to consider is that over the period of recovery, WMATA has regained riders at a faster rate, now matching–or possible exceeding–the gap that had previously been present. Evaluating why these recoveries seem to diverge will be an integral part of future analysis. Finally, it is notable that both trends appear to have not yet reached a plateau, indicating that there may be further increases in ridership to come.\nWe can establish a hypothesis based on this stating that WMATA and BART ridership follows the same trend over the given period of time.\n\n\nCode\ncombined_ridership.corr(method='pearson',numeric_only=True)\n\n\n\n\n\n\n\n\n\nbart_ridership\nwmata_ridership\n\n\n\n\nbart_ridership\n1.000000\n0.976802\n\n\nwmata_ridership\n0.976802\n1.000000\n\n\n\n\n\n\n\nLastly, we can use Pearson correlation analysis to see the correlation between trends of each public transit system. This gives us a value of \\(0.9768\\), which indicates that from 2018-2023, WMATA and BART ridership are significantly positively correlated.\n\n\n\n\n\nCode\nwfh_monthly = pd.read_csv('../data/cleaned_data/WFH_city_cleaned.csv')\nwfh_monthly = wfh_monthly.drop(columns='Unnamed: 0')\nwfh_monthly[['wfh_BayArea','wfh_WashingtonDC']].describe()\n\n\n\n\n\n\n\n\n\nwfh_BayArea\nwfh_WashingtonDC\n\n\n\n\ncount\n35.000000\n35.000000\n\n\nmean\n38.928571\n36.657143\n\n\nstd\n4.243789\n4.792107\n\n\nmin\n32.300000\n30.000000\n\n\n25%\n36.050000\n32.850000\n\n\n50%\n39.300000\n37.900000\n\n\n75%\n41.500000\n39.500000\n\n\nmax\n54.200000\n54.800000\n\n\n\n\n\n\n\nThe first notable piece of information about this data is that it begins in October of 2020, which is well after the pandemic’s effects began taking shape. However, the first data point represents data up to and including the information reached on that date, so it is sensible to think of it as an aggregate for the early pandemic. Thus, we should keep in mind that it may be an outlier, as it contains data from a greater date range, from a time that we might assume would have a greater work-from-home rate. The summary statistics above tell us little about the trends, but we can see that work-from-home in Washington, D.C. and the San Francisco Bay Area are quite similar at first glance.\n\n\nCode\nfrom matplotlib.pyplot import boxplot, xlabel, ylabel\nboxplot(wfh_monthly[['wfh_BayArea','wfh_WashingtonDC']], labels=['Bay Area','Washington, D.C.'])\nplt.xlabel('Metropolitan Area')\nplt.ylabel('WFH Percentage')\n\n\nText(0, 0.5, 'WFH Percentage')\n\n\n\n\n\nThe boxplot above uses the matplotlib tool in Python to visualize descriptive data side-by-side. This confirms the suspicion that there is indeed one outlier point, which is the first observation for each dataset. In further analysis, it will be important to deal with this.\n\n\nCode\n#p1 = wfh_monthly.plot()\n\nplt.plot(wfh_monthly['date'], wfh_monthly['wfh_BayArea'], label ='Bay Area')\nplt.plot(wfh_monthly['date'], wfh_monthly['wfh_WashingtonDC'], label ='Washington D.C.')\nplt.xlabel(\"Date\")\nplt.ylabel(\"WFH Percentage\")\nplt.legend()\nplt.gcf().autofmt_xdate()\nplt.show()\n\n\n\n\n\nThis line graph also uses matplotlib and shows time series data on how work-from-home percentages have evolved over the course of the pandemic recovery. In both metropolitan areas, we see a steady decline in work-from-home reported, which suggests a general trend of people returning to the office, thus potentially needing public transit. While the differences between these lines are difficult to discern, it does appear that the San Francisco Bay Area’s recent data exceeds that of Washington, D.C., indicating that their residents have retained work-from-home status at a greater rate.\nNext, we will merge this data with the public transit ridership data to conduct correlation analyses and gain insights on the extent of the impact that work-from-home has on ridership.\n\n\nCode\nwfh_ridership = combined_ridership[33:67].merge(wfh_monthly, on='date')\nwfh_ridership.head()\nprint(wfh_ridership.corr(method='pearson',numeric_only=True))\nsns.heatmap(wfh_ridership.corr(numeric_only=True))\n\n\n                  bart_ridership  wmata_ridership  wfh_BayArea   \nbart_ridership          1.000000         0.963119    -0.593388  \\\nwmata_ridership         0.963119         1.000000    -0.645030   \nwfh_BayArea            -0.593388        -0.645030     1.000000   \nwfh_WashingtonDC       -0.756827        -0.790434     0.869830   \n\n                  wfh_WashingtonDC  \nbart_ridership           -0.756827  \nwmata_ridership          -0.790434  \nwfh_BayArea               0.869830  \nwfh_WashingtonDC          1.000000  \n\n\n&lt;Axes: &gt;\n\n\n\n\n\nThe above correlation heatmap uses the seaborn tool in Python, which provides advanced data visualizations for enhanced exploratory analysis. Using this visualization, along with the associated valuesm, we can see that work-from-home rates are heavily positively correlated between cities. This confirms the observation made previously. In addition, work-from-home has a strong negative correlation with public transit ridership for both metropolitan areas. That is, as fewer people work from home, more people use public transit. This is also expected and will serve as a great refined hypothesis for future analysis.\n\n\n\nIn evaluating the future of work-from-home, as well as the social impact it has, it is important to perform EDA on the work-from-home desires of both workers and employers. The summary statistics below show a reality that is expected: workers want more work-from-home days than employers, and both want fewer work-from-home days for workers who are able to work on-site.\n\n\nCode\nwfh_desires = pd.read_csv('../data/cleaned_data/WFH_surveys_cleaned.csv')\nwfh_desires = wfh_desires.drop(columns='Unnamed: 0')\nwfh_desires[['employer_desires_all','employer_desires_able','worker_desires_all','worker_desires_able']].describe()\n\n\n\n\n\n\n\n\n\nemployer_desires_all\nemployer_desires_able\nworker_desires_all\nworker_desires_able\n\n\n\n\ncount\n38.000000\n37.000000\n38.000000\n37.000000\n\n\nmean\n1.359211\n2.045405\n2.270526\n2.807568\n\n\nstd\n0.188628\n0.278932\n0.087763\n0.096650\n\n\nmin\n1.050000\n1.560000\n2.100000\n2.550000\n\n\n25%\n1.177500\n1.800000\n2.190000\n2.770000\n\n\n50%\n1.400000\n2.210000\n2.275000\n2.810000\n\n\n75%\n1.530000\n2.260000\n2.320000\n2.870000\n\n\nmax\n1.610000\n2.370000\n2.470000\n2.970000\n\n\n\n\n\n\n\n\n\nCode\n#p2 = wfh_desires.plot()\nplt.plot(wfh_desires['date'], wfh_desires['employer_desires_all'], label='Employer Desires for All Workers')\nplt.plot(wfh_desires['date'], wfh_desires['employer_desires_able'], label='Employer Desires for Able Workers')\nplt.plot(wfh_desires['date'], wfh_desires['worker_desires_all'], label='Worker Desires for All Workers')\nplt.plot(wfh_desires['date'], wfh_desires['worker_desires_able'], label='Worker Desires for Able Workers')\nplt.xlabel(\"Date\")\nplt.ylabel(\"Days/Week Requested WFH\")\n#p2.xaxis.set_major_locator(mdates.DayLocator(interval=6))\nplt.legend()\nplt.gcf().autofmt_xdate()\nplt.show()\n\n\n\n\n\nUsing this matplotlib-generated plot, we can see time series data for the four categories. The observations noted above remain true, but there is a clear trend that should be pointed out regarding employer desires. While workers seem to have generally maintained the same expected number of work-from-home days, employers have increased their appetite for more work-from-home days. Further analysis should examine causes for this phenomenon, which could be caused by realizations that work-from-home has merit in some cases, a changing political climate, simply conceding ground to their counterparts, or perhaps an undiscovered reason.\nThus, our hypotheses regarding this data set are: 1. Workers desire more work-from-home days/week than employers 2. Work-from-home desires have remained the same over time\n\n\n\nBy performing EDA on hourly public transit usage, we can see how the purpose of public transit ridership has changed since the impacts of the pandemic. It is reasonable to surmise that peaks around “rush hour” are generally related to work commutes, so analyzing the extent of those peaks can provide insight in what the general populus seeks from public transportation. To accomplish this, we can combine the pre-COVID and post-COVID datasets for WMATA hourly ridership. Since we are not interested in comparing total ridership (that was already covered), the first visualization will be a line graph using matplotlib.\n\n\nCode\nhourly_pre = pd.read_csv('../data/cleaned_data/hourly_average_cleaned_pre-covid.csv')\nhourly_post = pd.read_csv('../data/cleaned_data/hourly_average_cleaned_post-covid.csv')\ncombined_hourly = hourly_pre.merge(hourly_post, on='hour')\ncombined_hourly = combined_hourly.drop(columns=['Unnamed: 0_x','Unnamed: 0_y','hour_numeric_x','hour_numeric_y','avg_daily_exits_x','avg_daily_exits_y'])\ncombined_hourly = combined_hourly.rename(columns={'avg_daily_entries_x': 'entries_pre_covid', 'avg_daily_entries_y': 'entries_post_covid'})\nplt.plot(combined_hourly['hour'], combined_hourly['entries_pre_covid'], label = \"Pre-COVID\")\nplt.plot(combined_hourly['hour'], combined_hourly['entries_post_covid'], label = \"Post-COVID\")\nplt.xlabel(\"Hour\")\nplt.ylabel(\"Average Daily Entries\")\nplt.legend()\nplt.gcf().autofmt_xdate()\nplt.show()\n\n\n\n\n\nThis graph clearly shows rush hour peaks for both datasets, although it is noteworthy that the peaks appear less pronounced in the post-COVID dataset. This could indicate that commutes to work represented a smaller proportion of total transit ridership after the pandemic hit, which would make intuitive sense. To gain more information, it could be insightful to plot the ratio of entries by hour below.\n\n\nCode\nhourly_ratio = combined_hourly['entries_post_covid']/combined_hourly['entries_pre_covid']\nplt.plot(combined_hourly['hour'], hourly_ratio)\nplt.xlabel(\"Hour\")\nplt.ylabel(\"Ratio of Post-COVID to Pre-COVID Entries\")\nplt.gcf().autofmt_xdate()\nplt.show()\n\n\n\n\n\nThis visualization has a few notable features. The first is that the ratio of post-COVID entries to pre-COVID entries does seem to lower around the rush hour times, suggesting that rush hour did have a less pronounced effect later on. Secondly, we can see anomalies in the early-morning hours, where the ratio actually exceeds 1. Due to the relatively small sample of data in these hours, it is fair to call these outliers, as they do not represent overall trends in the data. This presumption is confirmed in the boxplot below.\n\n\nCode\nboxplot(hourly_ratio)\n\n\n{'whiskers': [&lt;matplotlib.lines.Line2D at 0x137ce07d0&gt;,\n  &lt;matplotlib.lines.Line2D at 0x137ce1190&gt;],\n 'caps': [&lt;matplotlib.lines.Line2D at 0x137ce1b90&gt;,\n  &lt;matplotlib.lines.Line2D at 0x137ce2750&gt;],\n 'boxes': [&lt;matplotlib.lines.Line2D at 0x137cd3c50&gt;],\n 'medians': [&lt;matplotlib.lines.Line2D at 0x137ce3350&gt;],\n 'fliers': [&lt;matplotlib.lines.Line2D at 0x137ce1150&gt;],\n 'means': []}\n\n\n\n\n\nBased on this EDA, our updated hypothesis regarding this data is that the COVID-19 pandemic had an effect on the distribution of hourly WMATA ridership.\n\n\n\nThis data can provide valuable insight on which forms of public transportation have been most affected. Based on what we can conclude here, there may be indications that some methods should be studied with more emphasis. The summary statistics for this data offer a simple understanding of ridership volume and which methods are used most. However, the bulk of our EDA will focus on correlation between variables to evaluate how these methods’ ridership change alongside one another.\n\n\nCode\nridership_type = pd.read_csv('../data/cleaned_data/ridership_by_quarter_cleaned.csv')\nridership_type = ridership_type.drop(columns='Unnamed: 0')\nridership_type[['total_ridership','heavy_rail','light_rail','commuter_rail','trolleybus','bus','demand_response','other']].describe()\n\n\n\n\n\n\n\n\n\ntotal_ridership\nheavy_rail\nlight_rail\ncommuter_rail\ntrolleybus\nbus\ndemand_response\nother\n\n\n\n\ncount\n5.300000e+01\n5.300000e+01\n53.000000\n53.000000\n53.000000\n5.300000e+01\n53.000000\n53.000000\n\n\nmean\n2.279058e+06\n8.269957e+05\n113075.698113\n104419.962264\n19331.075472\n1.125994e+06\n47151.716981\n42090.377358\n\n\nstd\n5.826479e+05\n2.299050e+05\n30778.435641\n32376.278023\n5935.076336\n2.695039e+05\n10558.336191\n11875.951653\n\n\nmin\n6.209250e+05\n1.222490e+05\n33137.000000\n13521.000000\n3395.000000\n4.205780e+05\n16907.000000\n11140.000000\n\n\n25%\n2.361673e+06\n8.339910e+05\n112616.000000\n109741.000000\n19598.000000\n1.133805e+06\n46331.000000\n40588.000000\n\n\n50%\n2.538958e+06\n9.270570e+05\n125865.000000\n119043.000000\n21395.000000\n1.234299e+06\n51334.000000\n45071.000000\n\n\n75%\n2.624985e+06\n9.682590e+05\n133233.000000\n125486.000000\n23740.000000\n1.312650e+06\n53673.000000\n49803.000000\n\n\nmax\n2.729424e+06\n1.015234e+06\n140828.000000\n130970.000000\n25051.000000\n1.364993e+06\n59535.000000\n57254.000000\n\n\n\n\n\n\n\n\n\nCode\nsns.pairplot(ridership_type[['total_ridership','heavy_rail','light_rail','commuter_rail','trolleybus','bus','demand_response','other']], diag_kind='kde', kind=\"scatter\")\n\n\n/Users/joshsweren/anaconda3/envs/dsan5000/lib/python3.11/site-packages/seaborn/axisgrid.py:123: UserWarning: The figure layout has changed to tight\n  self._figure.tight_layout(*args, **kwargs)\n\n\n\n\n\n\n\nCode\nprint(ridership_type[['total_ridership','heavy_rail','light_rail','commuter_rail','trolleybus','bus','demand_response','other']].corr(method='pearson',numeric_only=True))\nsns.heatmap(ridership_type[['total_ridership','heavy_rail','light_rail','commuter_rail','trolleybus','bus','demand_response','other']].corr(numeric_only=True))\n\n\n----------------------\nPEARSON CORRELATION MATRIX:\n----------------------\n                 total_ridership  heavy_rail  light_rail  commuter_rail   \ntotal_ridership         1.000000    0.989721    0.978829       0.979993  \\\nheavy_rail              0.989721    1.000000    0.987208       0.991768   \nlight_rail              0.978829    0.987208    1.000000       0.990598   \ncommuter_rail           0.979993    0.991768    0.990598       1.000000   \ntrolleybus              0.959039    0.923241    0.901781       0.906034   \nbus                     0.987325    0.955084    0.941736       0.940388   \ndemand_response         0.975021    0.976711    0.971167       0.960878   \nother                   0.941060    0.932013    0.933872       0.939074   \n\n                 trolleybus       bus  demand_response     other  \ntotal_ridership    0.959039  0.987325         0.975021  0.941060  \nheavy_rail         0.923241  0.955084         0.976711  0.932013  \nlight_rail         0.901781  0.941736         0.971167  0.933872  \ncommuter_rail      0.906034  0.940388         0.960878  0.939074  \ntrolleybus         1.000000  0.976065         0.908239  0.914181  \nbus                0.976065  1.000000         0.949469  0.920445  \ndemand_response    0.908239  0.949469         1.000000  0.901680  \nother              0.914181  0.920445         0.901680  1.000000  \n\n\n&lt;Axes: &gt;\n\n\n\n\n\nBy using the seaborn package, we can obtain a pairplot, a correlation matrix, and a heatmap to visualize correlation between the ridership of different modes of public transportation. From this, we can see that no Pearson correlation fails to exceed 0.9, indicating strong correlation between all variables. Thus, our refined hypothesis is that all methods of public transportation are impacted equally by the decline and/or resurgence of public transit usage.\n\n\n\nLastly,\n\n\nCode\nimport json\nfrom wordcloud import WordCloud, STOPWORDS\nimport matplotlib.pyplot as plt\nwmata_text2 = open('../data/cleaned_data/wmata_vocabulary.json')\nwmata_cloud2 = json.load(wmata_text2)\nwordcloud = WordCloud(\n        width = 3000,\n        height = 2000, \n        random_state=1, \n        background_color='#68A2B9', \n        colormap='Pastel1', \n        collocations=False,\n        stopwords = STOPWORDS).generate_from_frequencies(wmata_cloud2)\n\nplt.figure(figsize=(15,8))\nplt.imshow(wordcloud)\n\n\n&lt;matplotlib.image.AxesImage at 0x13f9b9fd0&gt;\n\n\n\n\n\n\n\nCode\nbart_text2 = open('../data/cleaned_data/bart_vocabulary.json')\nbart_cloud2 = json.load(bart_text2)\nwordcloud = WordCloud(\n        width = 3000,\n        height = 2000, \n        random_state=1, \n        background_color='#68A2B9', \n        colormap='Pastel1', \n        collocations=False,\n        stopwords = STOPWORDS).generate_from_frequencies(bart_cloud2)\n\nplt.figure(figsize=(15,8))\nplt.imshow(wordcloud)\n\n\n&lt;matplotlib.image.AxesImage at 0x13fbdb8d0&gt;"
  },
  {
    "objectID": "eda/eda.html#quick-look-at-the-data",
    "href": "eda/eda.html#quick-look-at-the-data",
    "title": "Data Exploration",
    "section": "Quick look at the data",
    "text": "Quick look at the data\n\n# Import seaborn\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Apply the default theme\nsns.set_theme(style=\"whitegrid\", palette=\"pastel\")\n\n# Load an example dataset\ntips = sns.load_dataset(\"tips\")\nprint(tips)\n\n     total_bill   tip     sex smoker   day    time  size\n0         16.99  1.01  Female     No   Sun  Dinner     2\n1         10.34  1.66    Male     No   Sun  Dinner     3\n2         21.01  3.50    Male     No   Sun  Dinner     3\n3         23.68  3.31    Male     No   Sun  Dinner     2\n4         24.59  3.61  Female     No   Sun  Dinner     4\n..          ...   ...     ...    ...   ...     ...   ...\n239       29.03  5.92    Male     No   Sat  Dinner     3\n240       27.18  2.00  Female    Yes   Sat  Dinner     2\n241       22.67  2.00    Male    Yes   Sat  Dinner     2\n242       17.82  1.75    Male     No   Sat  Dinner     2\n243       18.78  3.00  Female     No  Thur  Dinner     2\n\n[244 rows x 7 columns]"
  },
  {
    "objectID": "eda/eda.html#basic-visualization",
    "href": "eda/eda.html#basic-visualization",
    "title": "Data Exploration",
    "section": "Basic visualization",
    "text": "Basic visualization\n\n\n# Create a visualization\nsns.relplot(\n    data=tips,\n    x=\"total_bill\", y=\"tip\", col=\"time\",\n    hue=\"smoker\", style=\"smoker\", size=\"size\",\n)\n\nplt.show()"
  },
  {
    "objectID": "decision_trees/classification/classification.html",
    "href": "decision_trees/classification/classification.html",
    "title": "Classification",
    "section": "",
    "text": "Build out your website tab for “Classification”"
  },
  {
    "objectID": "decision_trees/regression/regression.html",
    "href": "decision_trees/regression/regression.html",
    "title": "Regression",
    "section": "",
    "text": "Build out your website tab for “Regression”"
  },
  {
    "objectID": "introduction/introduction.html",
    "href": "introduction/introduction.html",
    "title": "Introduction",
    "section": "",
    "text": "Large public transit networks have been a staple of large cities for over a century. However, in large part due to the ramifications of COVID-19, urban areas across the United States of America have seen significant drops in public transit usage. The graph below uses data from the American Public Transportation Association Quarterly Ridership Report1 to show this unprecedented drop and subsequent partial recovery. This will serve as a generalization and basis for the issue which this paper explores.\n\n\n\nTotal Public Transit Ridership in the U.S. Since 2010: Data from American Public Transportation Association Quarterly Ridership Report\n\n\nWhile the plot above shows that this phenomenon has slightly abated as cities have returned to a resemblance of their previous state, usage numbers still significantly lag behind those from before the pandemic. As large portions of state and municipal budgets go to the creation, improvement, and operation of public transit systems, many have started to question the efficacy of urban bus and train networks in the new post-COVID-19 era.\nThe potential consequences of this decline in usage are easy to see. Many believe this calls for decreased funding or elimination of unprofitable public transit, as money should be allocated towards areas where more people will benefit. On the other hand, the presence of affordable and reliable transportation is often seen as a public service, where monetary loss can be accepted for the good of a city and its residents. Ultimately, the extent to which this belief outweighs current and future struggles can be debated indefinitely. Thus, it is important for us to understand the causes of the recent decline and current recovery, what we can expect from public transit usage in the future, and how public transit impacts the city and its residents. The goal of this paper is to explore these topics and respond to the hypothesis that public transit systems still have efficacy because they remain vital staples of their city with great enough long-term demand to offset temporary financial losses.\n\n\n\n\nTo what extent does the public service of public transit offset financial losses?\nWhat are the primary reason for people to use public transit?\nWhat were the primary causes for the rapid decline in public transit usage? (i.e., what specific COVID-19 ramifications affected it the most?)\nWhat are the primary causes for the slow recovery in public transit usage?\nTo what extent is the decline in public transit usage permanent?\nHow do recent trends in public transit usage differ between cities?\nHow do recent trends in public transit usage differ between modes of transportation?\nWhat political incentives exist regarding funding, eliminating, or expanding public transit?\nTo what extent do residents typically benefit from increased spending on public transit?\nWho is most affected by changes in public transit ridership and policy?\n\n\n\n\nTo properly answer the questions above, it is important to understand work done by other researchers. Initially, there are two academic publications that provide significant insight into public transit phenomena in 2020. Understanding the events and results of the decline in public transit usage will ultimately inform our understanding of how current events shape public behavior, the role of public transit in urban areas, and the extent to which we can predict a rebound in public transit usage.\n\n\nThis publication from September 2020 provides significant insight into what can be observed by studying mobility during the COVID-19 pandemic. Despite a specific focus on Poland, we are able to see how human behavior can be measured and how public transit systems are affected by current events. The paper notes that in addition to studying the affect of a pandemic on public transit, the opposite relationship can occur, where public transportation methods can negatively impact the mitigation of a pandemic. Ultimately, the paper aims to assess the relationships between public transit usage and COVID-19 cases, as well as the former with government stringency.\nIn its methodology, the researchers developed quantifiable metrics to determine government stringency (called Stringency Index) at various times by logging different events of lockdowns, restrictions, and warnings. This, along with already quantified data regarding the status of the pandemic across Poland, was measured alongside mobility metrics such as public transit usage. In the image below, we can see how a relationship was determined through the variables that had been set:\n\n\n\nMobility Changes and Stringency Index\n\n\nUltimately, researchers concluded through analysis of all regions of Poland that despite a relatively mild outbreak of the pandemic, “a combination of government lockdown and social fears of contracting and spreading COVID-19 has caused a substantial reduction in passengers’ public transport demand in Poland.” Meanwhile, a similar relationship between the status of the pandemic (i.e., total cases) and public transit usage. This offers compelling insight for our topic, as it enforces the need to compare different forces in why people may hesitate to use public transit. Additionally, the importance of political decisions are heavily weighed, which turned out to be a telling factor in determining human behavior.\n\n\n\nMuch like the previous article, this publication studied a decline in public transit ridership prior to any eventual rebound. Its data sources are primarily from a widely used transit application to measure changes in demand over time. To accomplish this, the researchers define three key parameters: “base value, the apparent minimal level of demand; cliff and base point, representing the initial date when decline in transit demand began and the final date when decline attenuated, respectively; and decay rate, representing the speed of the demand decline.” Using these metrics, they managed to determine that the impact of COVID-19 on public transit was uneven, often explained by differences in social status.\nBy studying several cities across the United States, this study identified demographic influences in how public transit ridership was affected by COVID-19. Communities with larger minority populations often saw higher base values and less significant declines in ridership, a relationship that was also present for populations that searched for “Coronavirus” less. These communities also correlated heavily with the proportion of essential workers. Ultimately, this indicates that demand for public transit is discretionary. People continue to use public transportation if their occupations and livelihood still necessitate its use.\nThis relates to our questions for the future because it indicates factors that impact people’s public transit usage, many of which are still changing today. In a world where “work-from-home” remains more prevalent than prior to the pandemic, it stands to reason that usage may not fully rebound until people feel it is necessary, not just convenient or inexpensive. Additionally, this publication highlights public transit as a critical infrastructure for underprivileged social groups, which is a necessary consideration when assessing its efficacy."
  },
  {
    "objectID": "introduction/introduction.html#abstract",
    "href": "introduction/introduction.html#abstract",
    "title": "Introduction",
    "section": "",
    "text": "Large public transit networks have been a staple of large cities for over a century. However, in large part due to the ramifications of COVID-19, urban areas across the United States of America have seen significant drops in public transit usage. The graph below uses data from the American Public Transportation Association Quarterly Ridership Report1 to show this unprecedented drop and subsequent partial recovery. This will serve as a generalization and basis for the issue which this paper explores.\n\n\n\nTotal Public Transit Ridership in the U.S. Since 2010: Data from American Public Transportation Association Quarterly Ridership Report\n\n\nWhile the plot above shows that this phenomenon has slightly abated as cities have returned to a resemblance of their previous state, usage numbers still significantly lag behind those from before the pandemic. As large portions of state and municipal budgets go to the creation, improvement, and operation of public transit systems, many have started to question the efficacy of urban bus and train networks in the new post-COVID-19 era.\nThe potential consequences of this decline in usage are easy to see. Many believe this calls for decreased funding or elimination of unprofitable public transit, as money should be allocated towards areas where more people will benefit. On the other hand, the presence of affordable and reliable transportation is often seen as a public service, where monetary loss can be accepted for the good of a city and its residents. Ultimately, the extent to which this belief outweighs current and future struggles can be debated indefinitely. Thus, it is important for us to understand the causes of the recent decline and current recovery, what we can expect from public transit usage in the future, and how public transit impacts the city and its residents. The goal of this paper is to explore these topics and respond to the hypothesis that public transit systems still have efficacy because they remain vital staples of their city with great enough long-term demand to offset temporary financial losses."
  },
  {
    "objectID": "introduction/introduction.html#questions-to-answer",
    "href": "introduction/introduction.html#questions-to-answer",
    "title": "Introduction",
    "section": "",
    "text": "To what extent does the public service of public transit offset financial losses?\nWhat are the primary reason for people to use public transit?\nWhat were the primary causes for the rapid decline in public transit usage? (i.e., what specific COVID-19 ramifications affected it the most?)\nWhat are the primary causes for the slow recovery in public transit usage?\nTo what extent is the decline in public transit usage permanent?\nHow do recent trends in public transit usage differ between cities?\nHow do recent trends in public transit usage differ between modes of transportation?\nWhat political incentives exist regarding funding, eliminating, or expanding public transit?\nTo what extent do residents typically benefit from increased spending on public transit?\nWho is most affected by changes in public transit ridership and policy?"
  },
  {
    "objectID": "introduction/introduction.html#relevant-publications",
    "href": "introduction/introduction.html#relevant-publications",
    "title": "Introduction",
    "section": "",
    "text": "To properly answer the questions above, it is important to understand work done by other researchers. Initially, there are two academic publications that provide significant insight into public transit phenomena in 2020. Understanding the events and results of the decline in public transit usage will ultimately inform our understanding of how current events shape public behavior, the role of public transit in urban areas, and the extent to which we can predict a rebound in public transit usage.\n\n\nThis publication from September 2020 provides significant insight into what can be observed by studying mobility during the COVID-19 pandemic. Despite a specific focus on Poland, we are able to see how human behavior can be measured and how public transit systems are affected by current events. The paper notes that in addition to studying the affect of a pandemic on public transit, the opposite relationship can occur, where public transportation methods can negatively impact the mitigation of a pandemic. Ultimately, the paper aims to assess the relationships between public transit usage and COVID-19 cases, as well as the former with government stringency.\nIn its methodology, the researchers developed quantifiable metrics to determine government stringency (called Stringency Index) at various times by logging different events of lockdowns, restrictions, and warnings. This, along with already quantified data regarding the status of the pandemic across Poland, was measured alongside mobility metrics such as public transit usage. In the image below, we can see how a relationship was determined through the variables that had been set:\n\n\n\nMobility Changes and Stringency Index\n\n\nUltimately, researchers concluded through analysis of all regions of Poland that despite a relatively mild outbreak of the pandemic, “a combination of government lockdown and social fears of contracting and spreading COVID-19 has caused a substantial reduction in passengers’ public transport demand in Poland.” Meanwhile, a similar relationship between the status of the pandemic (i.e., total cases) and public transit usage. This offers compelling insight for our topic, as it enforces the need to compare different forces in why people may hesitate to use public transit. Additionally, the importance of political decisions are heavily weighed, which turned out to be a telling factor in determining human behavior.\n\n\n\nMuch like the previous article, this publication studied a decline in public transit ridership prior to any eventual rebound. Its data sources are primarily from a widely used transit application to measure changes in demand over time. To accomplish this, the researchers define three key parameters: “base value, the apparent minimal level of demand; cliff and base point, representing the initial date when decline in transit demand began and the final date when decline attenuated, respectively; and decay rate, representing the speed of the demand decline.” Using these metrics, they managed to determine that the impact of COVID-19 on public transit was uneven, often explained by differences in social status.\nBy studying several cities across the United States, this study identified demographic influences in how public transit ridership was affected by COVID-19. Communities with larger minority populations often saw higher base values and less significant declines in ridership, a relationship that was also present for populations that searched for “Coronavirus” less. These communities also correlated heavily with the proportion of essential workers. Ultimately, this indicates that demand for public transit is discretionary. People continue to use public transportation if their occupations and livelihood still necessitate its use.\nThis relates to our questions for the future because it indicates factors that impact people’s public transit usage, many of which are still changing today. In a world where “work-from-home” remains more prevalent than prior to the pandemic, it stands to reason that usage may not fully rebound until people feel it is necessary, not just convenient or inexpensive. Additionally, this publication highlights public transit as a critical infrastructure for underprivileged social groups, which is a necessary consideration when assessing its efficacy."
  },
  {
    "objectID": "introduction/introduction.html#footnotes",
    "href": "introduction/introduction.html#footnotes",
    "title": "Introduction",
    "section": "Footnotes",
    "text": "Footnotes\n\n\n“Quarterly and Annual Totals by Mode​​​,” American Public Transportation Association, https://www.apta.com/research-technical-resources/transit-statistics/ridership-report/ (accessed Oct. 5, 2023).↩︎\nM. Wielechowski, K. Czech, and Ł. Grzęda, “Decline in mobility: Public transport in Poland in the time of the COVID-19 pandemic,” Economies, vol. 8, no. 4, p. 78, 2020. doi:10.3390/economies8040078↩︎\nL. Liu, H. J. Miller, and J. Scheff, “The impacts of covid-19 pandemic on public transit demand in the United States,” PLOS ONE, vol. 15, no. 11, 2020. doi:10.1371/journal.pone.0242476↩︎"
  },
  {
    "objectID": "conclusions/conclusions.html",
    "href": "conclusions/conclusions.html",
    "title": "Conclusions",
    "section": "",
    "text": "Build out your website tab for “conclusions”"
  },
  {
    "objectID": "clustering/clustering.html",
    "href": "clustering/clustering.html",
    "title": "Clustering",
    "section": "",
    "text": "Build out your website tab for “clustering”"
  },
  {
    "objectID": "code/code.html",
    "href": "code/code.html",
    "title": "Code",
    "section": "",
    "text": "Link to Github repository"
  },
  {
    "objectID": "dimensionality_reduction/dimensionality_reduction.html",
    "href": "dimensionality_reduction/dimensionality_reduction.html",
    "title": "Dimensionality Reduction",
    "section": "",
    "text": "Build out your website tab for “Dimensionality Reduction”"
  },
  {
    "objectID": "arm/arm.html",
    "href": "arm/arm.html",
    "title": "ARM",
    "section": "",
    "text": "Build out your website tab for “ARM”"
  },
  {
    "objectID": "cleaning/cleaning.html",
    "href": "cleaning/cleaning.html",
    "title": "Data Cleaning",
    "section": "",
    "text": "To see all cleaned data click here"
  },
  {
    "objectID": "data/data.html",
    "href": "data/data.html",
    "title": "Data",
    "section": "",
    "text": "Link to Github repository"
  },
  {
    "objectID": "data/data.html#footnotes",
    "href": "data/data.html#footnotes",
    "title": "Data",
    "section": "Footnotes",
    "text": "Footnotes\n\n\n“Quarterly and Annual Totals by Mode​​​,” American Public Transportation Association, https://www.apta.com/research-technical-resources/transit-statistics/ridership-report/ (accessed Oct. 5, 2023).↩︎"
  },
  {
    "objectID": "gathering/gathering.html",
    "href": "gathering/gathering.html",
    "title": "Data Gathering",
    "section": "",
    "text": "To see all raw data gathered click here"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "About the Author",
    "section": "",
    "text": "Lab 1.1.3\n\n\n\n\n\n\nJosh Sweren is a graduate student in the Data Science and Analytics program at Georgetown University. He received his B.S. in Statistics with minors in Computer Science and Mathematics from the George Washington University in 2020. Since graduating, he has remained in the Washington, D.C. area, and has worked in government consulting for over three years. He currently works as a Business Analyst for an IT contractor, serving under a contract with the United States Department of Agriculture. Originally from New York, Mr. Sweren is eager to learn about Machine Learning and Deep Learning, as well as the broader topics of data visualization and communication. Outside of work, he enjoys playing and watching sports, as well as doing puzzles.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCurrent Coursework\n\n\n\nDSAN 5000: Data Science and Analytics\n\n\n\nDSAN 5100: Probabilistic Modeling and Statistical Computing\n\n\n\n\nRelevant Prior Coursework\n\n\n\nBig Data & Analytics\n\n\n\nStatistical Computer Packages\n\n\n\nMathematical Statistics\n\n\n\nCombinatorics\n\n\n\nBayesian Statistics"
  },
  {
    "objectID": "cleaning/cleaning.html#footnotes",
    "href": "cleaning/cleaning.html#footnotes",
    "title": "Data Cleaning",
    "section": "Footnotes",
    "text": "Footnotes\n\n\n“Ridership Report.” American Public Transportation Association, 21 Sept. 2023, www.apta.com/research-technical-resources/transit-statistics/ridership-report/.↩︎\n“News API – Search News and Blog Articles on the Web.” News API Â Search News and Blog Articles on the Web, newsapi.org/. Accessed 12 Oct. 2023.↩︎\nBarrero, Jose Maria, et al. Why Working from Home Will Stick, 2021, https://doi.org/10.3386/w28731.↩︎\n“Washington Metropolitan Area Transit Authority.” WMATA, www.wmata.com/initiatives/ridership-portal/. Accessed 12 Oct. 2023.↩︎\n“Ridership Reports.” Ridership Reports | Bay Area Rapid Transit, www.bart.gov/about/reports/ridership. Accessed 13 Oct. 2023.↩︎\nU.S. Census Bureau. “MEANS OF TRANSPORTATION TO WORK BY SELECTED CHARACTERISTICS.” American Community Survey, ACS 5-Year Estimates Subject Tables, Table S0802, 2021, https://data.census.gov/table/ACSST5Y2021.S0802?t=Commuting&g=860XX00US20020,20032. Accessed on October 12, 2023.↩︎\nSteven Ruggles, Sarah Flood, Matthew Sobek, Danika Brockman, Grace Cooper, Stephanie Richards, and Megan Schouweiler. IPUMS USA: Version 13.0 [dataset]. Minneapolis, MN: IPUMS, 2023. https://doi.org/10.18128/D010.V13.0↩︎\n“WMATA - Washington, DC, DC,” Yelp, https://www.yelp.com/biz/wmata-washington (accessed Nov. 2, 2023).↩︎\n“Bart - Bay Area Rapid Transit - Oakland, CA,” Yelp, https://www.yelp.com/biz/bart-bay-area-rapid-transit-oakland-2 (accessed Nov. 2, 2023).↩︎"
  },
  {
    "objectID": "gathering/gathering.html#footnotes",
    "href": "gathering/gathering.html#footnotes",
    "title": "Data Gathering",
    "section": "Footnotes",
    "text": "Footnotes\n\n\n“Ridership Report.” American Public Transportation Association, 21 Sept. 2023, www.apta.com/research-technical-resources/transit-statistics/ridership-report/.↩︎\n“News API – Search News and Blog Articles on the Web.” News API Â Search News and Blog Articles on the Web, newsapi.org/. Accessed 12 Oct. 2023.↩︎\nBarrero, Jose Maria, et al. Why Working from Home Will Stick, 2021, https://doi.org/10.3386/w28731.↩︎\n“Washington Metropolitan Area Transit Authority.” WMATA, www.wmata.com/initiatives/ridership-portal/. Accessed 12 Oct. 2023.↩︎\n“Ridership Reports.” Ridership Reports | Bay Area Rapid Transit, www.bart.gov/about/reports/ridership. Accessed 13 Oct. 2023.↩︎\nU.S. Census Bureau. “MEANS OF TRANSPORTATION TO WORK BY SELECTED CHARACTERISTICS.” American Community Survey, ACS 5-Year Estimates Subject Tables, Table S0802, 2021, https://data.census.gov/table/ACSST5Y2021.S0802?t=Commuting&g=860XX00US20020,20032. Accessed on October 12, 2023.↩︎\nSteven Ruggles, Sarah Flood, Matthew Sobek, Danika Brockman, Grace Cooper, Stephanie Richards, and Megan Schouweiler. IPUMS USA: Version 13.0 [dataset]. Minneapolis, MN: IPUMS, 2023. https://doi.org/10.18128/D010.V13.0↩︎\n“WMATA - Washington, DC, DC,” Yelp, https://www.yelp.com/biz/wmata-washington (accessed Nov. 2, 2023).↩︎\n“Bart - Bay Area Rapid Transit - Oakland, CA,” Yelp, https://www.yelp.com/biz/bart-bay-area-rapid-transit-oakland-2 (accessed Nov. 2, 2023).↩︎"
  },
  {
    "objectID": "eda/eda.html#data-exploration",
    "href": "eda/eda.html#data-exploration",
    "title": "Exploratory Data Exploration",
    "section": "",
    "text": "Now that the monthly ridership data from 2018-2023 is cleaned for both WMATA and BART datasets, exploratory data analysis (EDA) can be performed. An important aspect of this data to reiterate is that WMATA’s dataset contains average daily public transit entries for each month, while BART’s dataset simply has a single sample from one day of public transit entries from the 18th day of each month. Therefore, comparison of these trends rely on the assumption that the samples for BART are representative of the month’s average. Nonetheless, viewing these trends alongside each other can provide great insight into the differentiation between cities of the recent phenomena regarding public transit usage.\nTo accomplish this, we will first combine these datasets into a single dataframe and obtain summary statistics. In this case, along with many below, summary statistics are obtained using the pandas software tool in Python, which allows for data manipulation and analysis.\n\n\nCode\n# Import seaborn\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nfrom datetime import datetime as dt\nimport pandas as pd\n\n# Apply the default theme\nsns.set_theme(style=\"whitegrid\", palette=\"pastel\")\n\n# Load an example dataset\nbart_monthly = pd.read_csv('../data/cleaned_data/bart_monthly_ridership.csv')\nwmata_monthly = pd.read_csv('../data/cleaned_data/wmata_monthly_ridership.csv')\ncombined_ridership = bart_monthly.merge(wmata_monthly, on='date')\ncombined_ridership = combined_ridership.drop(columns=['Unnamed: 0_x','Unnamed: 0_y'])\ncombined_ridership = combined_ridership.rename(columns={'daily_entries': 'bart_ridership', 'avg_daily_entries': 'wmata_ridership'})\ncombined_ridership[['bart_ridership','wmata_ridership']].describe()\n#combined_ridership.head()\n\n\nIntel MKL WARNING: Support of Intel(R) Streaming SIMD Extensions 4.2 (Intel(R) SSE4.2) enabled only processors has been deprecated. Intel oneAPI Math Kernel Library 2025.0 will require Intel(R) Advanced Vector Extensions (Intel(R) AVX) instructions.\nIntel MKL WARNING: Support of Intel(R) Streaming SIMD Extensions 4.2 (Intel(R) SSE4.2) enabled only processors has been deprecated. Intel oneAPI Math Kernel Library 2025.0 will require Intel(R) Advanced Vector Extensions (Intel(R) AVX) instructions.\n\n\n\n\n\n\n\n\n\nbart_ridership\nwmata_ridership\n\n\n\n\ncount\n69.000000\n69.000000\n\n\nmean\n218181.318841\n290734.623188\n\n\nstd\n153902.308664\n176660.259728\n\n\nmin\n25141.000000\n30017.000000\n\n\n25%\n92401.000000\n140034.000000\n\n\n50%\n149296.000000\n237880.000000\n\n\n75%\n407339.000000\n472304.000000\n\n\nmax\n432971.000000\n568265.000000\n\n\n\n\n\n\n\nThere is not much to glean from these statistics prior to visualization, as the numbers can be difficult to comprehend without context. However, we can see that WMATA ridership seems to exceed that of BART consistently. More information can be acquired by plotting the time series of ridership.\n\n\nCode\nplt.plot(combined_ridership['date'], combined_ridership['bart_ridership'], label ='BART')\nplt.plot(combined_ridership['date'], combined_ridership['wmata_ridership'], label ='WMATA')\nplt.xlabel(\"Date\")\nplt.ylabel(\"Daily Ridership\")\nplt.tick_params(bottom=False)\nplt.legend()\nplt.gcf().autofmt_xdate()\nplt.show()\n\n\n\n\n\nThis graph, and many others below, use the matplotlib software tool in Python, which offers a suite of graphical visualizations to assist us with data understanding.\nBy looking at this time series graph, there are a few key observations to acknowledge. The first is that both systems appeared to be somewhat equally affected by the significant drop in March of 2020, as we’d expect. Additionally, it is clear that prior to this drop, WMATA consistently had more riders each month, a difference that all but disappeared when the pandemic hit. A crucial development to consider is that over the period of recovery, WMATA has regained riders at a faster rate, now matching–or possible exceeding–the gap that had previously been present. Evaluating why these recoveries seem to diverge will be an integral part of future analysis. Finally, it is notable that both trends appear to have not yet reached a plateau, indicating that there may be further increases in ridership to come.\nWe can establish a hypothesis based on this stating that WMATA and BART ridership follows the same trend over the given period of time.\n\n\nCode\ncombined_ridership.corr(method='pearson',numeric_only=True)\n\n\n\n\n\n\n\n\n\nbart_ridership\nwmata_ridership\n\n\n\n\nbart_ridership\n1.000000\n0.976802\n\n\nwmata_ridership\n0.976802\n1.000000\n\n\n\n\n\n\n\nLastly, we can use Pearson correlation analysis to see the correlation between trends of each public transit system. This gives us a value of \\(0.9768\\), which indicates that from 2018-2023, WMATA and BART ridership are significantly positively correlated.\n\n\n\n\n\nCode\nwfh_monthly = pd.read_csv('../data/cleaned_data/WFH_city_cleaned.csv')\nwfh_monthly = wfh_monthly.drop(columns='Unnamed: 0')\nwfh_monthly[['wfh_BayArea','wfh_WashingtonDC']].describe()\n\n\n\n\n\n\n\n\n\nwfh_BayArea\nwfh_WashingtonDC\n\n\n\n\ncount\n35.000000\n35.000000\n\n\nmean\n38.928571\n36.657143\n\n\nstd\n4.243789\n4.792107\n\n\nmin\n32.300000\n30.000000\n\n\n25%\n36.050000\n32.850000\n\n\n50%\n39.300000\n37.900000\n\n\n75%\n41.500000\n39.500000\n\n\nmax\n54.200000\n54.800000\n\n\n\n\n\n\n\nThe first notable piece of information about this data is that it begins in October of 2020, which is well after the pandemic’s effects began taking shape. However, the first data point represents data up to and including the information reached on that date, so it is sensible to think of it as an aggregate for the early pandemic. Thus, we should keep in mind that it may be an outlier, as it contains data from a greater date range, from a time that we might assume would have a greater work-from-home rate. The summary statistics above tell us little about the trends, but we can see that work-from-home in Washington, D.C. and the San Francisco Bay Area are quite similar at first glance.\n\n\nCode\nfrom matplotlib.pyplot import boxplot, xlabel, ylabel\nboxplot(wfh_monthly[['wfh_BayArea','wfh_WashingtonDC']], labels=['Bay Area','Washington, D.C.'])\nplt.xlabel('Metropolitan Area')\nplt.ylabel('WFH Percentage')\n\n\nText(0, 0.5, 'WFH Percentage')\n\n\n\n\n\nThe boxplot above uses the matplotlib tool in Python to visualize descriptive data side-by-side. This confirms the suspicion that there is indeed one outlier point, which is the first observation for each dataset. In further analysis, it will be important to deal with this.\n\n\nCode\n#p1 = wfh_monthly.plot()\n\nplt.plot(wfh_monthly['date'], wfh_monthly['wfh_BayArea'], label ='Bay Area')\nplt.plot(wfh_monthly['date'], wfh_monthly['wfh_WashingtonDC'], label ='Washington D.C.')\nplt.xlabel(\"Date\")\nplt.ylabel(\"WFH Percentage\")\nplt.legend()\nplt.gcf().autofmt_xdate()\nplt.show()\n\n\n\n\n\nThis line graph also uses matplotlib and shows time series data on how work-from-home percentages have evolved over the course of the pandemic recovery. In both metropolitan areas, we see a steady decline in work-from-home reported, which suggests a general trend of people returning to the office, thus potentially needing public transit. While the differences between these lines are difficult to discern, it does appear that the San Francisco Bay Area’s recent data exceeds that of Washington, D.C., indicating that their residents have retained work-from-home status at a greater rate.\nNext, we will merge this data with the public transit ridership data to conduct correlation analyses and gain insights on the extent of the impact that work-from-home has on ridership.\n\n\nCode\nwfh_ridership = combined_ridership[33:67].merge(wfh_monthly, on='date')\nwfh_ridership.head()\nprint(wfh_ridership.corr(method='pearson',numeric_only=True))\nsns.heatmap(wfh_ridership.corr(numeric_only=True))\n\n\n                  bart_ridership  wmata_ridership  wfh_BayArea   \nbart_ridership          1.000000         0.963119    -0.593388  \\\nwmata_ridership         0.963119         1.000000    -0.645030   \nwfh_BayArea            -0.593388        -0.645030     1.000000   \nwfh_WashingtonDC       -0.756827        -0.790434     0.869830   \n\n                  wfh_WashingtonDC  \nbart_ridership           -0.756827  \nwmata_ridership          -0.790434  \nwfh_BayArea               0.869830  \nwfh_WashingtonDC          1.000000  \n\n\n&lt;Axes: &gt;\n\n\n\n\n\nThe above correlation heatmap uses the seaborn tool in Python, which provides advanced data visualizations for enhanced exploratory analysis. Using this visualization, along with the associated valuesm, we can see that work-from-home rates are heavily positively correlated between cities. This confirms the observation made previously. In addition, work-from-home has a strong negative correlation with public transit ridership for both metropolitan areas. That is, as fewer people work from home, more people use public transit. This is also expected and will serve as a great refined hypothesis for future analysis.\n\n\n\nIn evaluating the future of work-from-home, as well as the social impact it has, it is important to perform EDA on the work-from-home desires of both workers and employers. The summary statistics below show a reality that is expected: workers want more work-from-home days than employers, and both want fewer work-from-home days for workers who are able to work on-site.\n\n\nCode\nwfh_desires = pd.read_csv('../data/cleaned_data/WFH_surveys_cleaned.csv')\nwfh_desires = wfh_desires.drop(columns='Unnamed: 0')\nwfh_desires[['employer_desires_all','employer_desires_able','worker_desires_all','worker_desires_able']].describe()\n\n\n\n\n\n\n\n\n\nemployer_desires_all\nemployer_desires_able\nworker_desires_all\nworker_desires_able\n\n\n\n\ncount\n38.000000\n37.000000\n38.000000\n37.000000\n\n\nmean\n1.359211\n2.045405\n2.270526\n2.807568\n\n\nstd\n0.188628\n0.278932\n0.087763\n0.096650\n\n\nmin\n1.050000\n1.560000\n2.100000\n2.550000\n\n\n25%\n1.177500\n1.800000\n2.190000\n2.770000\n\n\n50%\n1.400000\n2.210000\n2.275000\n2.810000\n\n\n75%\n1.530000\n2.260000\n2.320000\n2.870000\n\n\nmax\n1.610000\n2.370000\n2.470000\n2.970000\n\n\n\n\n\n\n\n\n\nCode\n#p2 = wfh_desires.plot()\nplt.plot(wfh_desires['date'], wfh_desires['employer_desires_all'], label='Employer Desires for All Workers')\nplt.plot(wfh_desires['date'], wfh_desires['employer_desires_able'], label='Employer Desires for Able Workers')\nplt.plot(wfh_desires['date'], wfh_desires['worker_desires_all'], label='Worker Desires for All Workers')\nplt.plot(wfh_desires['date'], wfh_desires['worker_desires_able'], label='Worker Desires for Able Workers')\nplt.xlabel(\"Date\")\nplt.ylabel(\"Days/Week Requested WFH\")\n#p2.xaxis.set_major_locator(mdates.DayLocator(interval=6))\nplt.legend()\nplt.gcf().autofmt_xdate()\nplt.show()\n\n\n\n\n\nUsing this matplotlib-generated plot, we can see time series data for the four categories. The observations noted above remain true, but there is a clear trend that should be pointed out regarding employer desires. While workers seem to have generally maintained the same expected number of work-from-home days, employers have increased their appetite for more work-from-home days. Further analysis should examine causes for this phenomenon, which could be caused by realizations that work-from-home has merit in some cases, a changing political climate, simply conceding ground to their counterparts, or perhaps an undiscovered reason.\nThus, our hypotheses regarding this data set are: 1. Workers desire more work-from-home days/week than employers 2. Work-from-home desires have remained the same over time\n\n\n\nBy performing EDA on hourly public transit usage, we can see how the purpose of public transit ridership has changed since the impacts of the pandemic. It is reasonable to surmise that peaks around “rush hour” are generally related to work commutes, so analyzing the extent of those peaks can provide insight in what the general populus seeks from public transportation. To accomplish this, we can combine the pre-COVID and post-COVID datasets for WMATA hourly ridership. Since we are not interested in comparing total ridership (that was already covered), the first visualization will be a line graph using matplotlib.\n\n\nCode\nhourly_pre = pd.read_csv('../data/cleaned_data/hourly_average_cleaned_pre-covid.csv')\nhourly_post = pd.read_csv('../data/cleaned_data/hourly_average_cleaned_post-covid.csv')\ncombined_hourly = hourly_pre.merge(hourly_post, on='hour')\ncombined_hourly = combined_hourly.drop(columns=['Unnamed: 0_x','Unnamed: 0_y','hour_numeric_x','hour_numeric_y','avg_daily_exits_x','avg_daily_exits_y'])\ncombined_hourly = combined_hourly.rename(columns={'avg_daily_entries_x': 'entries_pre_covid', 'avg_daily_entries_y': 'entries_post_covid'})\nplt.plot(combined_hourly['hour'], combined_hourly['entries_pre_covid'], label = \"Pre-COVID\")\nplt.plot(combined_hourly['hour'], combined_hourly['entries_post_covid'], label = \"Post-COVID\")\nplt.xlabel(\"Hour\")\nplt.ylabel(\"Average Daily Entries\")\nplt.legend()\nplt.gcf().autofmt_xdate()\nplt.show()\n\n\n\n\n\nThis graph clearly shows rush hour peaks for both datasets, although it is noteworthy that the peaks appear less pronounced in the post-COVID dataset. This could indicate that commutes to work represented a smaller proportion of total transit ridership after the pandemic hit, which would make intuitive sense. To gain more information, it could be insightful to plot the ratio of entries by hour below.\n\n\nCode\nhourly_ratio = combined_hourly['entries_post_covid']/combined_hourly['entries_pre_covid']\nplt.plot(combined_hourly['hour'], hourly_ratio)\nplt.xlabel(\"Hour\")\nplt.ylabel(\"Ratio of Post-COVID to Pre-COVID Entries\")\nplt.gcf().autofmt_xdate()\nplt.show()\n\n\n\n\n\nThis visualization has a few notable features. The first is that the ratio of post-COVID entries to pre-COVID entries does seem to lower around the rush hour times, suggesting that rush hour did have a less pronounced effect later on. Secondly, we can see anomalies in the early-morning hours, where the ratio actually exceeds 1. Due to the relatively small sample of data in these hours, it is fair to call these outliers, as they do not represent overall trends in the data. This presumption is confirmed in the boxplot below.\n\n\nCode\nboxplot(hourly_ratio)\n\n\n{'whiskers': [&lt;matplotlib.lines.Line2D at 0x137ce07d0&gt;,\n  &lt;matplotlib.lines.Line2D at 0x137ce1190&gt;],\n 'caps': [&lt;matplotlib.lines.Line2D at 0x137ce1b90&gt;,\n  &lt;matplotlib.lines.Line2D at 0x137ce2750&gt;],\n 'boxes': [&lt;matplotlib.lines.Line2D at 0x137cd3c50&gt;],\n 'medians': [&lt;matplotlib.lines.Line2D at 0x137ce3350&gt;],\n 'fliers': [&lt;matplotlib.lines.Line2D at 0x137ce1150&gt;],\n 'means': []}\n\n\n\n\n\nBased on this EDA, our updated hypothesis regarding this data is that the COVID-19 pandemic had an effect on the distribution of hourly WMATA ridership.\n\n\n\nThis data can provide valuable insight on which forms of public transportation have been most affected. Based on what we can conclude here, there may be indications that some methods should be studied with more emphasis. The summary statistics for this data offer a simple understanding of ridership volume and which methods are used most. However, the bulk of our EDA will focus on correlation between variables to evaluate how these methods’ ridership change alongside one another.\n\n\nCode\nridership_type = pd.read_csv('../data/cleaned_data/ridership_by_quarter_cleaned.csv')\nridership_type = ridership_type.drop(columns='Unnamed: 0')\nridership_type[['total_ridership','heavy_rail','light_rail','commuter_rail','trolleybus','bus','demand_response','other']].describe()\n\n\n\n\n\n\n\n\n\ntotal_ridership\nheavy_rail\nlight_rail\ncommuter_rail\ntrolleybus\nbus\ndemand_response\nother\n\n\n\n\ncount\n5.300000e+01\n5.300000e+01\n53.000000\n53.000000\n53.000000\n5.300000e+01\n53.000000\n53.000000\n\n\nmean\n2.279058e+06\n8.269957e+05\n113075.698113\n104419.962264\n19331.075472\n1.125994e+06\n47151.716981\n42090.377358\n\n\nstd\n5.826479e+05\n2.299050e+05\n30778.435641\n32376.278023\n5935.076336\n2.695039e+05\n10558.336191\n11875.951653\n\n\nmin\n6.209250e+05\n1.222490e+05\n33137.000000\n13521.000000\n3395.000000\n4.205780e+05\n16907.000000\n11140.000000\n\n\n25%\n2.361673e+06\n8.339910e+05\n112616.000000\n109741.000000\n19598.000000\n1.133805e+06\n46331.000000\n40588.000000\n\n\n50%\n2.538958e+06\n9.270570e+05\n125865.000000\n119043.000000\n21395.000000\n1.234299e+06\n51334.000000\n45071.000000\n\n\n75%\n2.624985e+06\n9.682590e+05\n133233.000000\n125486.000000\n23740.000000\n1.312650e+06\n53673.000000\n49803.000000\n\n\nmax\n2.729424e+06\n1.015234e+06\n140828.000000\n130970.000000\n25051.000000\n1.364993e+06\n59535.000000\n57254.000000\n\n\n\n\n\n\n\n\n\nCode\nsns.pairplot(ridership_type[['total_ridership','heavy_rail','light_rail','commuter_rail','trolleybus','bus','demand_response','other']], diag_kind='kde', kind=\"scatter\")\n\n\n/Users/joshsweren/anaconda3/envs/dsan5000/lib/python3.11/site-packages/seaborn/axisgrid.py:123: UserWarning: The figure layout has changed to tight\n  self._figure.tight_layout(*args, **kwargs)\n\n\n\n\n\n\n\nCode\nprint(ridership_type[['total_ridership','heavy_rail','light_rail','commuter_rail','trolleybus','bus','demand_response','other']].corr(method='pearson',numeric_only=True))\nsns.heatmap(ridership_type[['total_ridership','heavy_rail','light_rail','commuter_rail','trolleybus','bus','demand_response','other']].corr(numeric_only=True))\n\n\n----------------------\nPEARSON CORRELATION MATRIX:\n----------------------\n                 total_ridership  heavy_rail  light_rail  commuter_rail   \ntotal_ridership         1.000000    0.989721    0.978829       0.979993  \\\nheavy_rail              0.989721    1.000000    0.987208       0.991768   \nlight_rail              0.978829    0.987208    1.000000       0.990598   \ncommuter_rail           0.979993    0.991768    0.990598       1.000000   \ntrolleybus              0.959039    0.923241    0.901781       0.906034   \nbus                     0.987325    0.955084    0.941736       0.940388   \ndemand_response         0.975021    0.976711    0.971167       0.960878   \nother                   0.941060    0.932013    0.933872       0.939074   \n\n                 trolleybus       bus  demand_response     other  \ntotal_ridership    0.959039  0.987325         0.975021  0.941060  \nheavy_rail         0.923241  0.955084         0.976711  0.932013  \nlight_rail         0.901781  0.941736         0.971167  0.933872  \ncommuter_rail      0.906034  0.940388         0.960878  0.939074  \ntrolleybus         1.000000  0.976065         0.908239  0.914181  \nbus                0.976065  1.000000         0.949469  0.920445  \ndemand_response    0.908239  0.949469         1.000000  0.901680  \nother              0.914181  0.920445         0.901680  1.000000  \n\n\n&lt;Axes: &gt;\n\n\n\n\n\nBy using the seaborn package, we can obtain a pairplot, a correlation matrix, and a heatmap to visualize correlation between the ridership of different modes of public transportation. From this, we can see that no Pearson correlation fails to exceed 0.9, indicating strong correlation between all variables. Thus, our refined hypothesis is that all methods of public transportation are impacted equally by the decline and/or resurgence of public transit usage.\n\n\n\nLastly,\n\n\nCode\nimport json\nfrom wordcloud import WordCloud, STOPWORDS\nimport matplotlib.pyplot as plt\nwmata_text2 = open('../data/cleaned_data/wmata_vocabulary.json')\nwmata_cloud2 = json.load(wmata_text2)\nwordcloud = WordCloud(\n        width = 3000,\n        height = 2000, \n        random_state=1, \n        background_color='#68A2B9', \n        colormap='Pastel1', \n        collocations=False,\n        stopwords = STOPWORDS).generate_from_frequencies(wmata_cloud2)\n\nplt.figure(figsize=(15,8))\nplt.imshow(wordcloud)\n\n\n&lt;matplotlib.image.AxesImage at 0x13f9b9fd0&gt;\n\n\n\n\n\n\n\nCode\nbart_text2 = open('../data/cleaned_data/bart_vocabulary.json')\nbart_cloud2 = json.load(bart_text2)\nwordcloud = WordCloud(\n        width = 3000,\n        height = 2000, \n        random_state=1, \n        background_color='#68A2B9', \n        colormap='Pastel1', \n        collocations=False,\n        stopwords = STOPWORDS).generate_from_frequencies(bart_cloud2)\n\nplt.figure(figsize=(15,8))\nplt.imshow(wordcloud)\n\n\n&lt;matplotlib.image.AxesImage at 0x13fbdb8d0&gt;"
  },
  {
    "objectID": "naive_bayes/naive_bayes.html",
    "href": "naive_bayes/naive_bayes.html",
    "title": "Naive Bayes",
    "section": "",
    "text": "Naive Bayes classification is"
  },
  {
    "objectID": "naive_bayes/naive_bayes.html#introduction-to-naive-bayes",
    "href": "naive_bayes/naive_bayes.html#introduction-to-naive-bayes",
    "title": "Naive Bayes",
    "section": "",
    "text": "Naive Bayes classification is"
  },
  {
    "objectID": "naive_bayes/naive_bayes.html#preparing-data-for-naive-bayes",
    "href": "naive_bayes/naive_bayes.html#preparing-data-for-naive-bayes",
    "title": "Naive Bayes",
    "section": "Preparing Data for Naive Bayes",
    "text": "Preparing Data for Naive Bayes"
  },
  {
    "objectID": "naive_bayes/naive_bayes.html#feature-selection",
    "href": "naive_bayes/naive_bayes.html#feature-selection",
    "title": "Naive Bayes",
    "section": "Feature Selection",
    "text": "Feature Selection\n\nFeature Selection for Record Data\n\n\nFeature Selection for Text Data"
  },
  {
    "objectID": "naive_bayes/naive_bayes.html#naive-bayes",
    "href": "naive_bayes/naive_bayes.html#naive-bayes",
    "title": "Naive Bayes",
    "section": "Naive Bayes",
    "text": "Naive Bayes\n\nNaive Bayes with Labeled Record Data\n\n\nNaive Bayes with Labeled Text Data"
  }
]