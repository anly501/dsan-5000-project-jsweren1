[
  {
    "objectID": "eda/eda.html",
    "href": "eda/eda.html",
    "title": "Data Exploration",
    "section": "",
    "text": "Build out your website tab for exploratory data analysis"
  },
  {
    "objectID": "eda/eda.html#quick-look-at-the-data",
    "href": "eda/eda.html#quick-look-at-the-data",
    "title": "Data Exploration",
    "section": "Quick look at the data",
    "text": "Quick look at the data\n\n# Import seaborn\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Apply the default theme\nsns.set_theme(style=\"whitegrid\", palette=\"pastel\")\n\n# Load an example dataset\ntips = sns.load_dataset(\"tips\")\nprint(tips)\n\n     total_bill   tip     sex smoker   day    time  size\n0         16.99  1.01  Female     No   Sun  Dinner     2\n1         10.34  1.66    Male     No   Sun  Dinner     3\n2         21.01  3.50    Male     No   Sun  Dinner     3\n3         23.68  3.31    Male     No   Sun  Dinner     2\n4         24.59  3.61  Female     No   Sun  Dinner     4\n..          ...   ...     ...    ...   ...     ...   ...\n239       29.03  5.92    Male     No   Sat  Dinner     3\n240       27.18  2.00  Female    Yes   Sat  Dinner     2\n241       22.67  2.00    Male    Yes   Sat  Dinner     2\n242       17.82  1.75    Male     No   Sat  Dinner     2\n243       18.78  3.00  Female     No  Thur  Dinner     2\n\n[244 rows x 7 columns]"
  },
  {
    "objectID": "eda/eda.html#basic-visualization",
    "href": "eda/eda.html#basic-visualization",
    "title": "Data Exploration",
    "section": "Basic visualization",
    "text": "Basic visualization\n\n\n# Create a visualization\nsns.relplot(\n    data=tips,\n    x=\"total_bill\", y=\"tip\", col=\"time\",\n    hue=\"smoker\", style=\"smoker\", size=\"size\",\n)\n\nplt.show()"
  },
  {
    "objectID": "decision_trees/classification/classification.html",
    "href": "decision_trees/classification/classification.html",
    "title": "Classification",
    "section": "",
    "text": "Build out your website tab for “Classification”"
  },
  {
    "objectID": "decision_trees/regression/regression.html",
    "href": "decision_trees/regression/regression.html",
    "title": "Regression",
    "section": "",
    "text": "Build out your website tab for “Regression”"
  },
  {
    "objectID": "introduction/introduction.html",
    "href": "introduction/introduction.html",
    "title": "Introduction",
    "section": "",
    "text": "Large public transit networks have been a staple of large cities for over a century. However, in large part due to the ramifications of COVID-19, urban areas across the United States of America have seen significant drops in public transit usage. The graph below uses data from the American Public Transportation Association Quarterly Ridership Report1 to show this unprecedented drop and subsequent partial recovery. This will serve as a generalization and basis for the issue which this paper explores.\n\n\n\nTotal Public Transit Ridership in the U.S. Since 2010: Data from American Public Transportation Association Quarterly Ridership Report\n\n\nWhile the plot above shows that this phenomenon has slightly abated as cities have returned to a resemblance of their previous state, usage numbers still significantly lag behind those from before the pandemic. As large portions of state and municipal budgets go to the creation, improvement, and operation of public transit systems, many have started to question the efficacy of urban bus and train networks in the new post-COVID-19 era.\nThe potential consequences of this decline in usage are easy to see. Many believe this calls for decreased funding or elimination of unprofitable public transit, as money should be allocated towards areas where more people will benefit. On the other hand, the presence of affordable and reliable transportation is often seen as a public service, where monetary loss can be accepted for the good of a city and its residents. Ultimately, the extent to which this belief outweighs current and future struggles can be debated indefinitely. Thus, it is important for us to understand the causes of the recent decline and current recovery, what we can expect from public transit usage in the future, and how public transit impacts the city and its residents. The goal of this paper is to explore these topics and respond to the hypothesis that public transit systems still have efficacy because they remain vital staples of their city with great enough long-term demand to offset temporary financial losses.\n\n\n\n\nTo what extent does the public service of public transit offset financial losses?\nWhat are the primary reason for people to use public transit?\nWhat were the primary causes for the rapid decline in public transit usage? (i.e., what specific COVID-19 ramifications affected it the most?)\nWhat are the primary causes for the slow recovery in public transit usage?\nTo what extent is the decline in public transit usage permanent?\nHow do recent trends in public transit usage differ between cities?\nHow do recent trends in public transit usage differ between modes of transportation?\nWhat political incentives exist regarding funding, eliminating, or expanding public transit?\nTo what extent do residents typically benefit from increased spending on public transit?\nWho is most affected by changes in public transit ridership and policy?\n\n\n\n\nTo properly answer the questions above, it is important to understand work done by other researchers. Initially, there are two academic publications that provide significant insight into public transit phenomena in 2020. Understanding the events and results of the decline in public transit usage will ultimately inform our understanding of how current events shape public behavior, the role of public transit in urban areas, and the extent to which we can predict a rebound in public transit usage.\n\n\nThis publication from September 2020 provides significant insight into what can be observed by studying mobility during the COVID-19 pandemic. Despite a specific focus on Poland, we are able to see how human behavior can be measured and how public transit systems are affected by current events. The paper notes that in addition to studying the affect of a pandemic on public transit, the opposite relationship can occur, where public transportation methods can negatively impact the mitigation of a pandemic. Ultimately, the paper aims to assess the relationships between public transit usage and COVID-19 cases, as well as the former with government stringency.\nIn its methodology, the researchers developed quantifiable metrics to determine government stringency (called Stringency Index) at various times by logging different events of lockdowns, restrictions, and warnings. This, along with already quantified data regarding the status of the pandemic across Poland, was measured alongside mobility metrics such as public transit usage. In the image below, we can see how a relationship was determined through the variables that had been set:\n\n\n\nMobility Changes and Stringency Index\n\n\nUltimately, researchers concluded through analysis of all regions of Poland that despite a relatively mild outbreak of the pandemic, “a combination of government lockdown and social fears of contracting and spreading COVID-19 has caused a substantial reduction in passengers’ public transport demand in Poland.” Meanwhile, a similar relationship between the status of the pandemic (i.e., total cases) and public transit usage. This offers compelling insight for our topic, as it enforces the need to compare different forces in why people may hesitate to use public transit. Additionally, the importance of political decisions are heavily weighed, which turned out to be a telling factor in determining human behavior.\n\n\n\nMuch like the previous article, this publication studied a decline in public transit ridership prior to any eventual rebound. Its data sources are primarily from a widely used transit application to measure changes in demand over time. To accomplish this, the researchers define three key parameters: “base value, the apparent minimal level of demand; cliff and base point, representing the initial date when decline in transit demand began and the final date when decline attenuated, respectively; and decay rate, representing the speed of the demand decline.” Using these metrics, they managed to determine that the impact of COVID-19 on public transit was uneven, often explained by differences in social status.\nBy studying several cities across the United States, this study identified demographic influences in how public transit ridership was affected by COVID-19. Communities with larger minority populations often saw higher base values and less significant declines in ridership, a relationship that was also present for populations that searched for “Coronavirus” less. These communities also correlated heavily with the proportion of essential workers. Ultimately, this indicates that demand for public transit is discretionary. People continue to use public transportation if their occupations and livelihood still necessitate its use.\nThis relates to our questions for the future because it indicates factors that impact people’s public transit usage, many of which are still changing today. In a world where “work-from-home” remains more prevalent than prior to the pandemic, it stands to reason that usage may not fully rebound until people feel it is necessary, not just convenient or inexpensive. Additionally, this publication highlights public transit as a critical infrastructure for underprivileged social groups, which is a necessary consideration when assessing its efficacy."
  },
  {
    "objectID": "introduction/introduction.html#abstract",
    "href": "introduction/introduction.html#abstract",
    "title": "Introduction",
    "section": "",
    "text": "Large public transit networks have been a staple of large cities for over a century. However, in large part due to the ramifications of COVID-19, urban areas across the United States of America have seen significant drops in public transit usage. The graph below uses data from the American Public Transportation Association Quarterly Ridership Report1 to show this unprecedented drop and subsequent partial recovery. This will serve as a generalization and basis for the issue which this paper explores.\n\n\n\nTotal Public Transit Ridership in the U.S. Since 2010: Data from American Public Transportation Association Quarterly Ridership Report\n\n\nWhile the plot above shows that this phenomenon has slightly abated as cities have returned to a resemblance of their previous state, usage numbers still significantly lag behind those from before the pandemic. As large portions of state and municipal budgets go to the creation, improvement, and operation of public transit systems, many have started to question the efficacy of urban bus and train networks in the new post-COVID-19 era.\nThe potential consequences of this decline in usage are easy to see. Many believe this calls for decreased funding or elimination of unprofitable public transit, as money should be allocated towards areas where more people will benefit. On the other hand, the presence of affordable and reliable transportation is often seen as a public service, where monetary loss can be accepted for the good of a city and its residents. Ultimately, the extent to which this belief outweighs current and future struggles can be debated indefinitely. Thus, it is important for us to understand the causes of the recent decline and current recovery, what we can expect from public transit usage in the future, and how public transit impacts the city and its residents. The goal of this paper is to explore these topics and respond to the hypothesis that public transit systems still have efficacy because they remain vital staples of their city with great enough long-term demand to offset temporary financial losses."
  },
  {
    "objectID": "introduction/introduction.html#questions-to-answer",
    "href": "introduction/introduction.html#questions-to-answer",
    "title": "Introduction",
    "section": "",
    "text": "To what extent does the public service of public transit offset financial losses?\nWhat are the primary reason for people to use public transit?\nWhat were the primary causes for the rapid decline in public transit usage? (i.e., what specific COVID-19 ramifications affected it the most?)\nWhat are the primary causes for the slow recovery in public transit usage?\nTo what extent is the decline in public transit usage permanent?\nHow do recent trends in public transit usage differ between cities?\nHow do recent trends in public transit usage differ between modes of transportation?\nWhat political incentives exist regarding funding, eliminating, or expanding public transit?\nTo what extent do residents typically benefit from increased spending on public transit?\nWho is most affected by changes in public transit ridership and policy?"
  },
  {
    "objectID": "introduction/introduction.html#relevant-publications",
    "href": "introduction/introduction.html#relevant-publications",
    "title": "Introduction",
    "section": "",
    "text": "To properly answer the questions above, it is important to understand work done by other researchers. Initially, there are two academic publications that provide significant insight into public transit phenomena in 2020. Understanding the events and results of the decline in public transit usage will ultimately inform our understanding of how current events shape public behavior, the role of public transit in urban areas, and the extent to which we can predict a rebound in public transit usage.\n\n\nThis publication from September 2020 provides significant insight into what can be observed by studying mobility during the COVID-19 pandemic. Despite a specific focus on Poland, we are able to see how human behavior can be measured and how public transit systems are affected by current events. The paper notes that in addition to studying the affect of a pandemic on public transit, the opposite relationship can occur, where public transportation methods can negatively impact the mitigation of a pandemic. Ultimately, the paper aims to assess the relationships between public transit usage and COVID-19 cases, as well as the former with government stringency.\nIn its methodology, the researchers developed quantifiable metrics to determine government stringency (called Stringency Index) at various times by logging different events of lockdowns, restrictions, and warnings. This, along with already quantified data regarding the status of the pandemic across Poland, was measured alongside mobility metrics such as public transit usage. In the image below, we can see how a relationship was determined through the variables that had been set:\n\n\n\nMobility Changes and Stringency Index\n\n\nUltimately, researchers concluded through analysis of all regions of Poland that despite a relatively mild outbreak of the pandemic, “a combination of government lockdown and social fears of contracting and spreading COVID-19 has caused a substantial reduction in passengers’ public transport demand in Poland.” Meanwhile, a similar relationship between the status of the pandemic (i.e., total cases) and public transit usage. This offers compelling insight for our topic, as it enforces the need to compare different forces in why people may hesitate to use public transit. Additionally, the importance of political decisions are heavily weighed, which turned out to be a telling factor in determining human behavior.\n\n\n\nMuch like the previous article, this publication studied a decline in public transit ridership prior to any eventual rebound. Its data sources are primarily from a widely used transit application to measure changes in demand over time. To accomplish this, the researchers define three key parameters: “base value, the apparent minimal level of demand; cliff and base point, representing the initial date when decline in transit demand began and the final date when decline attenuated, respectively; and decay rate, representing the speed of the demand decline.” Using these metrics, they managed to determine that the impact of COVID-19 on public transit was uneven, often explained by differences in social status.\nBy studying several cities across the United States, this study identified demographic influences in how public transit ridership was affected by COVID-19. Communities with larger minority populations often saw higher base values and less significant declines in ridership, a relationship that was also present for populations that searched for “Coronavirus” less. These communities also correlated heavily with the proportion of essential workers. Ultimately, this indicates that demand for public transit is discretionary. People continue to use public transportation if their occupations and livelihood still necessitate its use.\nThis relates to our questions for the future because it indicates factors that impact people’s public transit usage, many of which are still changing today. In a world where “work-from-home” remains more prevalent than prior to the pandemic, it stands to reason that usage may not fully rebound until people feel it is necessary, not just convenient or inexpensive. Additionally, this publication highlights public transit as a critical infrastructure for underprivileged social groups, which is a necessary consideration when assessing its efficacy."
  },
  {
    "objectID": "introduction/introduction.html#footnotes",
    "href": "introduction/introduction.html#footnotes",
    "title": "Introduction",
    "section": "Footnotes",
    "text": "Footnotes\n\n\n“Quarterly and Annual Totals by Mode​​​,” American Public Transportation Association, https://www.apta.com/research-technical-resources/transit-statistics/ridership-report/ (accessed Oct. 5, 2023).↩︎\nM. Wielechowski, K. Czech, and Ł. Grzęda, “Decline in mobility: Public transport in Poland in the time of the COVID-19 pandemic,” Economies, vol. 8, no. 4, p. 78, 2020. doi:10.3390/economies8040078↩︎\nL. Liu, H. J. Miller, and J. Scheff, “The impacts of covid-19 pandemic on public transit demand in the United States,” PLOS ONE, vol. 15, no. 11, 2020. doi:10.1371/journal.pone.0242476↩︎"
  },
  {
    "objectID": "conclusions/conclusions.html",
    "href": "conclusions/conclusions.html",
    "title": "Conclusions",
    "section": "",
    "text": "Build out your website tab for “conclusions”"
  },
  {
    "objectID": "clustering/clustering.html",
    "href": "clustering/clustering.html",
    "title": "Clustering",
    "section": "",
    "text": "Build out your website tab for “clustering”"
  },
  {
    "objectID": "code/code.html",
    "href": "code/code.html",
    "title": "Code",
    "section": "",
    "text": "Link to Github repository"
  },
  {
    "objectID": "dimensionality_reduction/dimensionality_reduction.html",
    "href": "dimensionality_reduction/dimensionality_reduction.html",
    "title": "Dimensionality Reduction",
    "section": "",
    "text": "Build out your website tab for “Dimensionality Reduction”"
  },
  {
    "objectID": "arm/arm.html",
    "href": "arm/arm.html",
    "title": "ARM",
    "section": "",
    "text": "Build out your website tab for “ARM”"
  },
  {
    "objectID": "cleaning/cleaning.html",
    "href": "cleaning/cleaning.html",
    "title": "Data Cleaning",
    "section": "",
    "text": "To see all cleaned data click here\n\nQuarterly and Annual Ridership Totals by Mode​ of Transportation\nThe purpose of this data is to gain a baseline perspective of the current state of public transit usage in the United States. Therefore, this data set should be cleaned in a way that trends can be visualized, without including superfluous information that does not relate to any current phenomena. The steps used in cleaning this data are below.\n\nTrim the data set:\n\nColumns 1 to 11 to trim blank items in the .csv file, as well as notes put in by the source.\nRows 81 to 133 to remove records from prior to 2010, as those are superfluous when comparing to current trends.\n\nCreate one column to account for year and quarter to improve readability\nConvert all numeric rows to numeric data type\nRemove extra year and quarter columns as they are now unnecessary\n\nRegarding the numeric fields, I have chosen to keep them all for now as each one can provide insight into which modes of transportation are most affected by certain factors. Below is the code to apply the steps laid out, as well as a comparison between the raw and cleaned data sets.\n\n\nCode\nlibrary(tidyverse)\nlibrary(tidyr)\n\nridership &lt;- read.csv(\"../data/APTA-Ridership-by-Mode-and-Quarter-1990-Present.csv\")\nridership &lt;- ridership[81:133,1:11]\ncolnames(ridership)[2] &lt;- 'Year - Quarter'\ncolnames(ridership)[4:11] &lt;- c(\"total_ridership\", \"heavy_rail\", \"light_rail\", \"commuter_rail\", \"trolleybus\", \"bus\", \"demand_response\", \"other\")\nridership$total_ridership &lt;- as.numeric(gsub(\",\",\"\", ridership$total_ridership))\nridership$heavy_rail &lt;- as.numeric(gsub(\",\",\"\", ridership$heavy_rail))\nridership$light_rail &lt;- as.numeric(gsub(\",\",\"\", ridership$light_rail))\nridership$commuter_rail &lt;- as.numeric(gsub(\",\",\"\", ridership$commuter_rail))\nridership$trolleybus &lt;- as.numeric(gsub(\",\",\"\", ridership$trolleybus))\nridership$bus &lt;- as.numeric(gsub(\",\",\"\", ridership$bus))\nridership$demand_response &lt;- as.numeric(gsub(\",\",\"\", ridership$demand_response))\nridership$other &lt;- as.numeric(gsub(\",\",\"\", ridership$other))\nggplot(data=ridership, aes(x=factor(`Year - Quarter`), y=total_ridership, group=1, xmin = \"2015 - Q1\", xmax=\"2023-Q1\")) +\n  geom_line()+\n  geom_point()+\n  labs(x = \"Year - Quarter\", y = \"Total Ridership (000s)\", title = \"Total Public Transit Ridership in the U.S.\")+\n  theme(axis.text.x = element_text(angle = 45))\nridership &lt;- ridership[c(2, 4:11)]\nhead(ridership)\nwrite.csv(ridership, \"../data/cleaned_data/ridership_by_quarter_cleaned.csv\")\n\n\n\n\n\nRaw Quarterly Ridership Data\n\n\n\n\n\nCleaned Quarterly Ridership Data\n\n\n\n\nNews API Data\nThis data in its raw form comes as a JSON file with each record corresponding to a particular article. The purpose of cleaning this will be to analyze word prevalence, which can be done by creating a corpus. The steps for this are recycled from DSAN-5000 Lab 2.1, and are described as follows:\n\nRetrieve the raw data JSON file for WMATA news.\nCreate a string cleaning function to deal with punctuation, special characters, and differently cased letters\nIterate through each article\n\nIterate through each data point in an article to clean strings and append cleaned data to output list\n\nConvert cleaned data to data frame\nCreate corpus from cleaned data\nUse CountVectorizer to retrieve vocabulary for the data set\nRepeat for BART\n\nBelow is the code, along with images of the cleaned data.\n\n\nCode\nimport requests\nimport json\nimport re\nimport pandas as pd\nfrom sklearn.feature_extraction.text import CountVectorizer\n\nbaseURL = \"https://newsapi.org/v2/everything?\"\ntotal_requests=2\nverbose=True\n\n#WMATA\n\nx = open('../data/WMATA-newapi-raw-data.json')\nresponse = json.load(x)\n\ndef string_cleaner(input_string):\n    try: \n        out=re.sub(r\"\"\"\n                    [,.;@#?!&$-]+\n                    \\ *\n                    \"\"\",\n                    \" \",\n                    input_string, flags=re.VERBOSE)\n\n        out = re.sub('[’.]+', '', input_string)\n        out = re.sub(r'\\s+', ' ', out)\n        out=out.lower()\n    except:\n        print(\"ERROR\")\n        out=''\n    return out\n\narticle_list=response['articles']\narticle_keys=article_list[0].keys()\nindex=0\ncleaned_data=[];  \nfor article in article_list:\n    tmp=[]\n    for key in article_keys:\n        if(key=='source'):\n            src=string_cleaner(article[key]['name'])\n            tmp.append(src) \n\n        if(key=='author'):\n            author=string_cleaner(article[key])\n            if(src in author): \n                author='NA'\n            tmp.append(author)\n\n        if(key=='title'):\n            tmp.append(string_cleaner(article[key]))\n\n        if(key=='publishedAt'):\n            ref = re.compile('.*-.*-.*T.*:.*:.*Z')\n            date=article[key]\n            if(not ref.match(date)):\n                date=\"NA\"\n            tmp.append(date)\n\n    cleaned_data.append(tmp)\n    index+=1\n\ndf = pd.DataFrame(cleaned_data)\nprint(df.head())\ndf.to_csv('../data/cleaned_data/wmata_news_cleaned.csv', index=False)\n\ncorpus = df[2]\nvectorizer=CountVectorizer()\nword_counts  =  vectorizer.fit_transform(corpus)\nprint(\"vocabulary = \",vectorizer.vocabulary_)\n\n\n## BART\nx = open('../data/BART-newapi-raw-data.json')\nresponse = json.load(x)\n\narticle_list=response['articles']\narticle_keys=article_list[0].keys()\nindex=0\ncleaned_data=[];  \nfor article in article_list:\n    tmp=[]\n    for key in article_keys:\n        if(key=='source'):\n            src=string_cleaner(article[key]['name'])\n            tmp.append(src) \n\n        if(key=='author'):\n            author=string_cleaner(article[key])\n            if(src in author): \n                author='NA'\n            tmp.append(author)\n\n        if(key=='title'):\n            tmp.append(string_cleaner(article[key]))\n\n        if(key=='publishedAt'):\n            ref = re.compile('.*-.*-.*T.*:.*:.*Z')\n            date=article[key]\n            if(not ref.match(date)):\n                date=\"NA\"\n            tmp.append(date)\n\n    cleaned_data.append(tmp)\n    index+=1\n\ndf = pd.DataFrame(cleaned_data)\nprint(df.head())\ndf.to_csv('../data/cleaned_data/bart_news_cleaned.csv', index=False)\n\ncorpus = df[2]\nvectorizer=CountVectorizer()\nword_counts  =  vectorizer.fit_transform(corpus)\nprint(\"vocabulary = \",vectorizer.vocabulary_)\n\n\n\n\n\nCleaned WMATA News Data\n\n\n\n\n\nCleaned BART News Data\n\n\n\n\nRemote Work Trends - Desires of Employers vs. Workers\nThe insight to be gathered from this data would be the discrepancies between what employers want from their workers’ remote work schedule, and those of the workers themselves. Therefore, while these come from two separate .csv files, it will be necessary to merge these data sets into one data frame. Additionally, each data set has two variables: 1. The amount of working from home (days per week) employers or workers want for all workers 2. The amount of working from home (days per week) employers or workers want for workers able to work from home Since both of these have ample data, we will keep both. The methodology for this is as follows:\n\nRead both data sets and trim excess space where the owner of the data had included a citation note\nMerge by date\n\nThese data sets come from the same series of surveys, so the date column is exactly the same, eliminating any need for removal of rows.\n\nConvert the date field to a date data type and order by date\nRename columns based on glossary provided by the data source\nEnsure numeric columns have numeric data type\nRemove rows in which there are too many NA values.\n\nRows in which the values for all workers OR workers able to work from home have NA values can be kept, as there is a comparison to be made with the ones that don’t have NA values. Only rows in which no comparison can be made will be removed.\n\n\nThe code for this is below, along with a screenshot of the cleaned data.\n\n\nCode\nlibrary(tidyverse)\nlibrary(tidyr)\n\nemployer &lt;- read.csv(\"../data/WFH_monthly/WFH_monthly_employer.csv\")\nworker &lt;- read.csv(\"../data/WFH_monthly/WFH_monthly_worker.csv\")\nemployer &lt;- employer[c(1:3)]\nworker &lt;- worker[c(1:3)]\nplans &lt;- merge(employer, worker, by = \"date\")\nplans$date &lt;- as.Date(plans$date, format = \"%m/%d/%y\")\nplans &lt;- plans[order(plans$date),]\ncolnames(plans)[c(2:5)] &lt;- c(\"employer_desires_all\", \"employer_desires_able\", \"worker_desires_all\", \"worker_desires_able\")\ntypeof(plans$employer_desires_all)\nplans &lt;- plans[!(is.na(plans$employer_desires_all) & is.na(plans$employer_desires_able)),]\nhead(plans)\nwrite.csv(plans, \"../data/cleaned_data/WFH_surveys_cleaned.csv\")\n\n\n\n\n\nCleaned Data for Remote Work Plans of Employers and Workers\n\n\n\n\nRemote Work Trends by City\nThe cleaning methodology for this data set is simple: reduce from the top ten largest cities in the United States to the cities which we are focusing on. The steps for this, along with the code and before/after screenshots are below:\n\nRead .csv file and remove all columns except for the date of each survey, results from Washington, D.C., and results from the San Francisco Bay Area\nConvert the date field to a date data type and order by date\nEnsure no NA values and that numeric columns have a numeric data type\n\n\n\nCode\nlibrary(tidyverse)\nlibrary(tidyr)\n\ncity &lt;- read.csv(\"../data/WFH_monthly/WFH_monthly_city.csv\")\ncity &lt;- city[c(1,6,8)]\ncity$date &lt;- as.Date(city$date, format = \"%m/%d/%y\")\ncity &lt;- city[order(city$date),]\ncolnames(city)[c(2,3)] &lt;- c(\"wfh_BayArea\", \"wfh_WashingtonDC\")\ncity &lt;- na.omit(city)\ntypeof(city$wfh_BayArea)\nhead(city)\nwrite.csv(city, \"../data/cleaned_data/WFH_city_cleaned.csv\")\n\n\n\n\n\nRemote Work Percentages by City - Raw\n\n\n\n\n\nRemote Work Percentages by City - Cleaned\n\n\n\n\nRidership Trends by City\nThese data sets will allow us to compare total and average monthly riderships between Washington, D.C. and the San Francisco Bay Area. To do this, we will need the data to match up to avoid any unintended discrepancies. Thus, the date range that has been selected is January, 2018 to September, 2023. First, the WMATA data comes with all average monthly entries listed in a single row, as shown below:\n\n\n\nWMATA Average Daily Entries by Month\n\n\nSince the data unit we are after is each month, this should ultimately be transposed when cleaning. Additionally, we will need to combine the years, which act as column names in the raw data, with the months. The steps for this are as follows:\n\nRead .csv file and remove final row, which is duplicative. It is simply a truncated version of the data directly above it.\nRetrieve column names to create a list of years\nTranspose rows containing months and values and add them to a data frame with the years column\nRemove blank row created by this transposition\nCreate date column by concatenating year and month and converting it to date type\nRe-arrange columns, remove duplicative columns containing year and month, and rename avg_daily_entries column\n\nThe code and screenshot are shown below:\nNote: BART data has not yet been cleaned.\n\n\nCode\nlibrary(tidyverse)\nlibrary(tidyr)\n\nwmata_monthly &lt;- read.csv(\"../data/WMATA_boardings_by_month.csv\")\nwmata_monthly &lt;- wmata_monthly[c(1,2),]\nwmata_years &lt;- c(colnames(wmata_monthly))\nwmata &lt;- data.frame(wmata_years, t(wmata_monthly[1,]), t(wmata_monthly[2,]))\nwmata &lt;- wmata[-1,]\nwmata$date &lt;- paste(1, wmata$X1, substr(wmata$wmata_years, 2, 5))\nwmata$date &lt;- as.Date(wmata$date, \"%d %B %Y\")\nwmata &lt;- wmata[c(4, 3)]\ncolnames(wmata)[2] &lt;- \"avg_daily_entries\"\nhead(wmata)\nwrite.csv(wmata, \"../data/cleaned_data/wmata_monthly_ridership.csv\")\n\n\n\n\n\nWMATA Average Daily Entries by Month - Cleaned\n\n\n\n\nRidership by Hour\nThese data sets can be used to compare ridership trends before and after the pandemic and all ramifications that came from it. These both show average daily entries and exits in Washington, D.C. by hour of the day, allowing us to see when people use public transit, and ultimately infer why they may be using it. The difference in the data is that the before data set contains data from January 1, 2018 to March 17, 2020, while the after data set contains data from March 18, 2020 to October 5, 2023.\nThe steps for cleaning these data sets are as follows:\n\nRead .csv files and remove rounded fields, as they are duplicative\nRename columns for readability\nConvert numeric columns to numeric data type\nIntroduce hour_numeric column for future time series analysis\nRearrange columns\n\nThe code for carrying this out and screenshots of the cleaned before data set are below. Additionally, plots of the data sets have been charted to visualize the data that is being obtained.\n\n\nCode\nlibrary(tidyverse)\nlibrary(tidyr)\n\nbefore &lt;- read.csv(\"../data/WMATA_boardings_by_hour/boardings_pre-covid.csv\")\nafter &lt;- read.csv(\"../data/WMATA_boardings_by_hour/boardings_post-covid.csv\")\nbefore &lt;- before[c(1,2,4)]\nafter &lt;- after[c(1,2,4)]\ncolnames(before) &lt;- c(\"hour\", \"avg_daily_entries\", \"avg_daily_exits\")\ncolnames(after) &lt;- c(\"hour\", \"avg_daily_entries\", \"avg_daily_exits\")\nbefore$avg_daily_entries &lt;- as.numeric(gsub(\",\",\"\", before$avg_daily_entries))\nbefore$avg_daily_exits &lt;- as.numeric(gsub(\",\",\"\", before$avg_daily_exits))\nafter$avg_daily_entries &lt;- as.numeric(gsub(\",\",\"\", after$avg_daily_entries))\nafter$avg_daily_exits &lt;- as.numeric(gsub(\",\",\"\", after$avg_daily_exits))\nbefore$hour_numeric &lt;- c(4:23, 0:3)\nafter$hour_numeric &lt;- c(4:23, 0:3)\nbefore &lt;- before[c(1,4,2,3)]\nafter &lt;- after[c(1,4,2,3)]\nggplot(data=before, aes(x=factor(hour_numeric, ordered = FALSE), y=avg_daily_entries, group=1)) +\n  geom_line()+\n  geom_point()+\n  labs(x = \"Numeric Hour of Day\", y = \"Average Daily Entries\", title = \"Average Daily Entries by Hour (Pre-Pandemic)\")\nggplot(data=after, aes(x=factor(hour_numeric, ordered = FALSE), y=avg_daily_entries, group=1)) +\n  geom_line()+\n  geom_point()+\n  labs(x = \"Numeric Hour of Day\", y = \"Average Daily Entries\", title = \"Average Daily Entries by Hour (Post-Pandemic)\")\nhead(before)\nhead(after)\nwrite.csv(before, \"../data/cleaned_data/hourly_average_cleaned_pre-covid.csv\")\nwrite.csv(after, \"../data/cleaned_data/hourly_average_cleaned_post-covid.csv\")\n\n\n\n\n\nHourly Ridership from 1/1/2018 to 3/17/2020 - Cleaned\n\n\n\n\n\n\nRidership by Demographic\nLastly, the purpose of this data is to see the rates at which demographic groups use different modes of transportation for commuting to their occupation. The raw data set contains all demographic differentiators in the same table, which would be classified as untidy data. Thus, it will be necessary to split these into several tables; one for each demographic type. Additionally, the columns denoting percent error are useful for understanding the data, but could be cumbersome for conducting EDA, so we will only be focusing on the proportions given in the data columns.\nCleaning this data set will allow us to use R to clean qualitative, as well as quantitative variables. The following are steps for carrying this out:\n\nRead full .csv file and rename columns for readability based on glossary given by the data source\nSelect only rows that split records by age, and only columns that contain data points\nTrim leading spaces from age column\nRemove percentage symbol from numeric fields and convert them to numeric data type\nRepeat process for sex, race, citizenship status, and earnings\n\nBelow is the code, and a sample screenshot from the earnings cleaned data set.\n\n\nCode\nlibrary(tidyverse)\nlibrary(tidyr)\nlibrary(stringr)\n\ndemographics &lt;- read.csv(\"../data/ridership_by_demographic_2021.csv\")\ncolnames(demographics)[c(2,4,6,8)] &lt;- c(\"total\", \"drive_alone\", \"carpool\", \"public_transit\")\nage &lt;- demographics[c(3:8), c(1,2,4,6,8)]\ncolnames(age)[1] &lt;- \"age_group\"\nage$age_group &lt;- str_trim(age$age_group, \"left\")\nage$total &lt;- as.numeric(substr(age$total, 1, nchar(age$total)-1))\nage$drive_alone &lt;- as.numeric(substr(age$drive_alone, 1, nchar(age$drive_alone)-1))\nage$carpool &lt;- as.numeric(substr(age$carpool, 1, nchar(age$carpool)-1))\nage$public_transit &lt;- as.numeric(substr(age$public_transit, 1, nchar(age$public_transit)-1))\nhead(age)\nwrite.csv(age, \"../data/cleaned_data/ridership_age.csv\")\n\nsex &lt;- demographics[c(11:12), c(1,2,4,6,8)]\ncolnames(sex)[1] &lt;- \"sex\"\nsex$sex &lt;- str_trim(sex$sex, \"left\")\nsex$total &lt;- as.numeric(substr(sex$total, 1, nchar(sex$total)-1))\nsex$drive_alone &lt;- as.numeric(substr(sex$drive_alone, 1, nchar(sex$drive_alone)-1))\nsex$carpool &lt;- as.numeric(substr(sex$carpool, 1, nchar(sex$carpool)-1))\nsex$public_transit &lt;- as.numeric(substr(sex$public_transit, 1, nchar(sex$public_transit)-1))\nhead(sex)\nwrite.csv(sex, \"../data/cleaned_data/ridership_sex.csv\")\n\ncitizenship &lt;- demographics[c(25:28), c(1,2,4,6,8)]\ncolnames(citizenship)[1] &lt;- \"status\"\ncitizenship$status &lt;- str_trim(citizenship$status, \"left\")\ncitizenship$total &lt;- as.numeric(substr(citizenship$total, 1, nchar(citizenship$total)-1))\ncitizenship$drive_alone &lt;- as.numeric(substr(citizenship$drive_alone, 1, nchar(citizenship$drive_alone)-1))\ncitizenship$carpool &lt;- as.numeric(substr(citizenship$carpool, 1, nchar(citizenship$carpool)-1))\ncitizenship$public_transit &lt;- as.numeric(substr(citizenship$public_transit, 1, nchar(citizenship$public_transit)-1))\nhead(citizenship)\nwrite.csv(citizenship, \"../data/cleaned_data/ridership_citizenship.csv\")\n\nearnings &lt;- demographics[c(35:42), c(1,2,4,6,8)]\ncolnames(earnings)[1] &lt;- \"range\"\nearnings$range &lt;- str_trim(earnings$range, \"left\")\nearnings$total &lt;- as.numeric(substr(earnings$total, 1, nchar(earnings$total)-1))\nearnings$drive_alone &lt;- as.numeric(substr(earnings$drive_alone, 1, nchar(earnings$drive_alone)-1))\nearnings$carpool &lt;- as.numeric(substr(earnings$carpool, 1, nchar(earnings$carpool)-1))\nearnings$public_transit &lt;- as.numeric(substr(earnings$public_transit, 1, nchar(earnings$public_transit)-1))\nhead(earnings)\nwrite.csv(earnings, \"../data/cleaned_data/ridership_earnings.csv\")\n\n\n\n\n\nTransportation Methods by Earnings - Cleaned\n\n\nU.S. Census Bureau. “MEANS OF TRANSPORTATION TO WORK BY SELECTED CHARACTERISTICS.” American Community Survey, ACS 5-Year Estimates Subject Tables, Table S0802, 2021, https://data.census.gov/table/ACSST5Y2021.S0802?t=Commuting&g=860XX00US20020,20032. Accessed on October 12, 2023."
  },
  {
    "objectID": "data/data.html",
    "href": "data/data.html",
    "title": "Data",
    "section": "",
    "text": "Link to Github repository"
  },
  {
    "objectID": "data/data.html#footnotes",
    "href": "data/data.html#footnotes",
    "title": "Data",
    "section": "Footnotes",
    "text": "Footnotes\n\n\n“Quarterly and Annual Totals by Mode​​​,” American Public Transportation Association, https://www.apta.com/research-technical-resources/transit-statistics/ridership-report/ (accessed Oct. 5, 2023).↩︎"
  },
  {
    "objectID": "gathering/gathering.html",
    "href": "gathering/gathering.html",
    "title": "Data Gathering",
    "section": "",
    "text": "To see all raw data gathered click here\n\nQuarterly and Annual Ridership Totals by Mode​ of Transportation\nThe initial piece of data that was gathered comes from the American Public Transportation Association, and can serve as an introductory synopsis of the state of public transit ridership over time. This gives a broad view of quarterly ridership across the entire country from 1990 onward. Thus, this data has been chosen for the potential of setting the stage for the problem which we intend to explore.\nThe raw data and methodology for how it was obtained can be found using this link: https://www.apta.com/research-technical-resources/transit-statistics/ridership-report/\nThe data itself can be downloaded using this link: https://www.apta.com/wp-content/uploads/APTA-Ridership-by-Mode-and-Quarter-1990-Present.xlsx\nTo download this data, I used an R API tool, which saves the data in Excel format. Below is the code for this action and a screenshot of the raw data to illustrate its form upon download:\n\n\nCode\nlibrary(readxl)\nlibrary(httr)\nurl1&lt;-'https://www.apta.com/wp-content/uploads/APTA-Ridership-by-Mode-and-Quarter-1990-Present.xlsx'\nGET(url1, write_disk(tf &lt;- tempfile(pattern = \"APTA-Ridership-by-Mode-and-Quarter-1990-Present\", fileext = \".xlsx\", tmpdir = \"../data\")))\ndf &lt;- read_excel(tf, 2L)\nstr(df)\n\n\n\n\n\nQuarterly and Annual Ridership Totals by Mode​ of Transportation\n\n\n\n\nNews API Data\nAn essential part of understanding public perception of a topic is by assessing how it is covered in the news. This often informs general opinions, and can introduce conversations that had not previously been in the zeitgeist. Thus, this paper will analyze text data from https://newsapi.org/ to allow us to study news coverage on two distinct public transit systems.\nFor this project, I will be looking at data regarding the Washington Metropolitan Area Transit Authority (WMATA) and the Bay Area Rapid Transit (BART). Both of these transit systems have several advantages for academic study: they are both large networks with rich histories and connections to their respective cities, there exist robust data sources allowing us to analyze information from several angles, and comparing them will allow us to get perspectives on differences between cities on opposite coasts.\nThe following shows how I accessed this News API via Python code. This outputs a JSON file as raw data, the start of which is included below each code block to show the nature of the data prior to cleaning.\n\n\nCode\nimport requests\nimport json\nimport re\nimport pandas as pd\nfrom sklearn.feature_extraction.text import CountVectorizer\n\nbaseURL = \"https://newsapi.org/v2/everything?\"\ntotal_requests=2\nverbose=True\n\nAPI_KEY='581fd71df234408291300dc13f0ee6e8'\nTOPIC='wmata'\n\nURLpost = {'apiKey': API_KEY,\n            'q': '+'+TOPIC,\n            'sortBy': 'relevancy',\n            'totalRequests': 1}\n\nresponse = requests.get(baseURL, URLpost)\nresponse = response.json()\n\nwith open('WMATA-newapi-raw-data.json', 'w') as outfile:\n    json.dump(response, outfile, indent=4)\n\n\n\n\n\nRaw JSON data from News API; Topic: WMATA\n\n\n\n\nCode\nbaseURL = \"https://newsapi.org/v2/everything?\"\ntotal_requests=2\nverbose=True\n\nAPI_KEY='581fd71df234408291300dc13f0ee6e8'\nTOPIC='Bay Area Rapid Transit'\n\nURLpost = {'apiKey': API_KEY,\n            'q': '+'+TOPIC,\n            'sortBy': 'relevancy',\n            'totalRequests': 1}\n\nresponse = requests.get(baseURL, URLpost)\nresponse = response.json()\n\nwith open('BART-newapi-raw-data.json', 'w') as outfile:\n    json.dump(response, outfile, indent=4)\n\n\n\n\n\nRaw JSON data from News API; Topic: Bay Area Rapid Transit\n\n\n\n\nRemote Work Trends\nIt is reasonable to hypothesize that one of the main factors in public transit usage is people commuting to and from work. The term “rush hour” is a seemingly daily phrase, meaning the times in the morning and evening at which most people go to or return from their occupation. Thus, when COVID-19 struck and many workers were no longer expected to go to work in-person, the need for public transportation decreased drastically.\nIn the years since, remote work has been a topic of controversy. Many workers enjoy the benefits of privacy and the added time of not having to commute, while employers often cite advantages of being on-site even in office jobs. While in-person work has rebounded recently, much like public transit usage, it has not nearly returned to the prevalence of prior to the pandemic. Therefore, understanding trends surrounding remote work can provide insights on how to analyze public transportation trends.\nWFH Research has exhaustive data sets regarding remote work information. For the purposes of this project, we will take into account three data sets. To better understand the controversial aspects of remote work, the first two data sets contain survey information from (a) employers and (b) workers on what they desire in terms of average remote work days per week. The third data set provides time series information on the amount of working from home (percent of full paid days) for large cities, including Washington, D.C. and the San Francisco Bay Area. Screenshots of the raw data are shown below:\n\n\n\nRemote Work Desires of Employers\n\n\n\n\n\nRemote Work Desires of Workers\n\n\n\n\n\nRemote Work Percentages by City\n\n\n\n\nRidership Trends for each City\nNow that we have background information regarding both cities of concern, the next piece of information to gather is public transit ridership. This will give us comprehensive monthly data from 2018 to 2023 to provide insights on the nature of the decline in public transit, as well as the current recovery.\nFor WMATA, the data comes from https://www.wmata.com/initiatives/ridership-portal/, and gives simple average daily entries per month. Meanwhile, BART data comes from https://www.bart.gov/about/reports/ridership, which provides reports each month on entries and exits by station. The raw data for WMATA entries, as well as the most recent BART report, are shown below:\n\n\n\nWMATA Average Daily Entries by Month\n\n\n\n\n\nSeptember 2023 Report for BART Entries/Exits by Station\n\n\n\n\nRidership by Hour\nIn addition to the volume of public transit usage, we can glean information on the purpose of public transit usage by analyzing the users by hour of the day. High peaks during “rush hour” likely indicate a great influence of work commuting on the data. Because of this, I downloaded both pre-pandemic and post-pandemic data sets regarding WMATA ridership by hour to view this relationship and whether it has changed due to new circumstances. In this case, March 17, 2020 is chosen as the demarcation date, as that was the day in which the first social distancing precautions were announced in Washington, D.C. The data is shown below:\n\n\n\nHourly Ridership from 1/1/2018 to 3/17/2020\n\n\n\n\n\nHourly Ridership from 3/18/2020 to 10/5/2023\n\n\n\n\nRidership by Demographic\nIn answering the question of whether or not public transit’s public service should be the paramount consideration for its efficacy, it is important to understand that it often provides service disproportionally to underprivileged groups. By analyzing demographic data, we can gather insights on who benefits most from robust public transit systems. To address this, there is data from the U.S. Census Bureau that provides 5-year estimates from 2021 of means of transportation to work by selected characteristics. The raw data is shown below:\n\n\n\n2021 5-Year Estimate of Transportation Means by Demographic"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "About the Author",
    "section": "",
    "text": "Lab 1.1.3\n\n\n\n\n\n\nJosh Sweren is a graduate student in the Data Science and Analytics program at Georgetown University. He received his B.S. in Statistics with minors in Computer Science and Mathematics from the George Washington University in 2020. Since graduating, he has remained in the Washington, D.C. area, and has worked in government consulting for over three years. He currently works as a Business Analyst for an IT contractor, serving under a contract with the United States Department of Agriculture. Originally from New York, Mr. Sweren is eager to learn about Machine Learning and Deep Learning, as well as the broader topics of data visualization and communication. Outside of work, he enjoys playing and watching sports, as well as doing puzzles.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCurrent Coursework\n\n\n\nDSAN 5000: Data Science and Analytics\n\n\n\nDSAN 5100: Probabilistic Modeling and Statistical Computing\n\n\n\n\nRelevant Prior Coursework\n\n\n\nBig Data & Analytics\n\n\n\nStatistical Computer Packages\n\n\n\nMathematical Statistics\n\n\n\nCombinatorics\n\n\n\nBayesian Statistics"
  }
]